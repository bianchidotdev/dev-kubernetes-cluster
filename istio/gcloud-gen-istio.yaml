apiVersion: v1
items:
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:40:11Z"
    generateName: istio-citadel-86cbf5fdb5-
    labels:
      app: security
      chart: security
      heritage: Tiller
      istio: citadel
      pod-template-hash: 86cbf5fdb5
      release: istio
    name: istio-citadel-86cbf5fdb5-4rwjn
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-citadel-86cbf5fdb5
      uid: 536e7b76-e614-11e9-a5da-42010a800258
    resourceVersion: "2775"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-citadel-86cbf5fdb5-4rwjn
    uid: 9cf745ba-e615-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - --append-dns-names=true
      - --grpc-port=8060
      - --grpc-hostname=citadel
      - --citadel-storage-namespace=istio-system
      - --custom-dns-names=istio-pilot-service-account.istio-system:istio-pilot.istio-system
      - --monitoring-port=15014
      - --self-signed-ca=true
      image: gke.gcr.io/istio/citadel:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /version
          port: 15014
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 1
      name: citadel
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-citadel-service-account-token-9bj8f
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-citadel-service-account
    serviceAccountName: istio-citadel-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: istio-citadel-service-account-token-9bj8f
      secret:
        defaultMode: 420
        secretName: istio-citadel-service-account-token-9bj8f
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:11Z"
      status: "True"
      type: PodScheduled
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:30:58Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:41Z"
    generateName: istio-citadel-86cbf5fdb5-
    labels:
      app: security
      chart: security
      heritage: Tiller
      istio: citadel
      pod-template-hash: 86cbf5fdb5
      release: istio
    name: istio-citadel-86cbf5fdb5-vrp78
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-citadel-86cbf5fdb5
      uid: 536e7b76-e614-11e9-a5da-42010a800258
    resourceVersion: "2752"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-citadel-86cbf5fdb5-vrp78
    uid: 537552bb-e614-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - --append-dns-names=true
      - --grpc-port=8060
      - --grpc-hostname=citadel
      - --citadel-storage-namespace=istio-system
      - --custom-dns-names=istio-pilot-service-account.istio-system:istio-pilot.istio-system
      - --monitoring-port=15014
      - --self-signed-ca=true
      image: gke.gcr.io/istio/citadel:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /version
          port: 15014
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 1
      name: citadel
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-citadel-service-account-token-9bj8f
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-twh1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-citadel-service-account
    serviceAccountName: istio-citadel-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: istio-citadel-service-account-token-9bj8f
      secret:
        defaultMode: 420
        secretName: istio-citadel-service-account-token-9bj8f
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [citadel]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [citadel]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/citadel:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: citadel
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.24
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-twh1 which was running
      pod istio-citadel-86cbf5fdb5-vrp78 is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:03Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2019-10-03T19:30:56Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:31Z"
    generateName: istio-cleanup-secrets-1.1.12-
    labels:
      app: security
      chart: security
      controller-uid: 52449154-e614-11e9-a5da-42010a800258
      heritage: Tiller
      job-name: istio-cleanup-secrets-1.1.12
      release: istio
    name: istio-cleanup-secrets-1.1.12-pszzk
    namespace: istio-system
    ownerReferences:
    - apiVersion: batch/v1
      blockOwnerDeletion: true
      controller: true
      kind: Job
      name: istio-cleanup-secrets-1.1.12
      uid: 52449154-e614-11e9-a5da-42010a800258
    resourceVersion: "2639"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-cleanup-secrets-1.1.12-pszzk
    uid: 52461d18-e614-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - command:
      - /bin/bash
      - -c
      - |
        kubectl get secret --all-namespaces | grep "istio.io/key-and-cert" |  while read -r entry; do
          ns=$(echo $entry | awk '{print $1}');
          name=$(echo $entry | awk '{print $2}');
          kubectl delete secret $name -n $ns;
        done
      image: gke.gcr.io/istio/kubectl:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: kubectl
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-cleanup-secrets-service-account-token-rdxqx
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx
    priority: 0
    restartPolicy: OnFailure
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-cleanup-secrets-service-account
    serviceAccountName: istio-cleanup-secrets-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: istio-cleanup-secrets-service-account-token-rdxqx
      secret:
        defaultMode: 420
        secretName: istio-cleanup-secrets-service-account-token-rdxqx
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      message: 'containers with unready status: [kubectl]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      message: 'containers with unready status: [kubectl]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/kubectl:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: kubectl
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.25
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx which was running
      pod istio-cleanup-secrets-1.1.12-pszzk is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:02Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2019-10-03T19:40:01Z"
    generateName: istio-cleanup-secrets-1.1.12-
    labels:
      app: security
      chart: security
      controller-uid: 52449154-e614-11e9-a5da-42010a800258
      heritage: Tiller
      job-name: istio-cleanup-secrets-1.1.12
      release: istio
    name: istio-cleanup-secrets-1.1.12-xxcln
    namespace: istio-system
    ownerReferences:
    - apiVersion: batch/v1
      blockOwnerDeletion: true
      controller: true
      kind: Job
      name: istio-cleanup-secrets-1.1.12
      uid: 52449154-e614-11e9-a5da-42010a800258
    resourceVersion: "2721"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-cleanup-secrets-1.1.12-xxcln
    uid: 97188b40-e615-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - command:
      - /bin/bash
      - -c
      - |
        kubectl get secret --all-namespaces | grep "istio.io/key-and-cert" |  while read -r entry; do
          ns=$(echo $entry | awk '{print $1}');
          name=$(echo $entry | awk '{print $2}');
          kubectl delete secret $name -n $ns;
        done
      image: gke.gcr.io/istio/kubectl:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: kubectl
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-cleanup-secrets-service-account-token-rdxqx
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: OnFailure
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-cleanup-secrets-service-account
    serviceAccountName: istio-cleanup-secrets-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: istio-cleanup-secrets-service-account-token-rdxqx
      secret:
        defaultMode: 420
        secretName: istio-cleanup-secrets-service-account-token-rdxqx
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      message: 'containers with unready status: [kubectl]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      message: 'containers with unready status: [kubectl]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/kubectl:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: kubectl
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.26
    phase: Pending
    qosClass: BestEffort
    startTime: "2019-10-03T19:40:01Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:30:57Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:31Z"
    generateName: istio-galley-544ff46bc4-
    labels:
      app: galley
      chart: galley
      heritage: Tiller
      istio: galley
      pod-template-hash: 544ff46bc4
      release: istio
    name: istio-galley-544ff46bc4-bnkpj
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-galley-544ff46bc4
      uid: 52a3b435-e614-11e9-a5da-42010a800258
    resourceVersion: "2641"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-galley-544ff46bc4-bnkpj
    uid: 52aa9da3-e614-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - command:
      - /usr/local/bin/galley
      - server
      - --meshConfigFile=/etc/mesh-config/mesh
      - --livenessProbeInterval=1s
      - --livenessProbePath=/healthliveness
      - --readinessProbePath=/healthready
      - --readinessProbeInterval=1s
      - --deployment-namespace=istio-system
      - --insecure=true
      - --validation-webhook-config-file
      - /etc/config/validatingwebhookconfiguration.yaml
      - --monitoringPort=15014
      - --log_output_level=default:info
      image: gke.gcr.io/istio/galley:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        exec:
          command:
          - /usr/local/bin/galley
          - probe
          - --probe-path=/healthliveness
          - --interval=10s
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 1
      name: galley
      ports:
      - containerPort: 443
        protocol: TCP
      - containerPort: 15014
        protocol: TCP
      - containerPort: 9901
        protocol: TCP
      readinessProbe:
        exec:
          command:
          - /usr/local/bin/galley
          - probe
          - --probe-path=/healthready
          - --interval=10s
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: certs
        readOnly: true
      - mountPath: /etc/config
        name: config
        readOnly: true
      - mountPath: /etc/mesh-config
        name: mesh-config
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-galley-service-account-token-59jqk
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-galley-service-account
    serviceAccountName: istio-galley-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: certs
      secret:
        defaultMode: 420
        secretName: istio.istio-galley-service-account
    - configMap:
        defaultMode: 420
        name: istio-galley-configuration
      name: config
    - configMap:
        defaultMode: 420
        name: istio
      name: mesh-config
    - name: istio-galley-service-account-token-59jqk
      secret:
        defaultMode: 420
        secretName: istio-galley-service-account-token-59jqk
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [galley]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [galley]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/galley:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: galley
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.25
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx which was running
      pod istio-galley-544ff46bc4-bnkpj is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:03Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:40:01Z"
    generateName: istio-galley-544ff46bc4-
    labels:
      app: galley
      chart: galley
      heritage: Tiller
      istio: galley
      pod-template-hash: 544ff46bc4
      release: istio
    name: istio-galley-544ff46bc4-sjdn5
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-galley-544ff46bc4
      uid: 52a3b435-e614-11e9-a5da-42010a800258
    resourceVersion: "2693"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-galley-544ff46bc4-sjdn5
    uid: 9748839a-e615-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - command:
      - /usr/local/bin/galley
      - server
      - --meshConfigFile=/etc/mesh-config/mesh
      - --livenessProbeInterval=1s
      - --livenessProbePath=/healthliveness
      - --readinessProbePath=/healthready
      - --readinessProbeInterval=1s
      - --deployment-namespace=istio-system
      - --insecure=true
      - --validation-webhook-config-file
      - /etc/config/validatingwebhookconfiguration.yaml
      - --monitoringPort=15014
      - --log_output_level=default:info
      image: gke.gcr.io/istio/galley:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        exec:
          command:
          - /usr/local/bin/galley
          - probe
          - --probe-path=/healthliveness
          - --interval=10s
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 1
      name: galley
      ports:
      - containerPort: 443
        protocol: TCP
      - containerPort: 15014
        protocol: TCP
      - containerPort: 9901
        protocol: TCP
      readinessProbe:
        exec:
          command:
          - /usr/local/bin/galley
          - probe
          - --probe-path=/healthready
          - --interval=10s
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: certs
        readOnly: true
      - mountPath: /etc/config
        name: config
        readOnly: true
      - mountPath: /etc/mesh-config
        name: mesh-config
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-galley-service-account-token-59jqk
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-galley-service-account
    serviceAccountName: istio-galley-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: certs
      secret:
        defaultMode: 420
        secretName: istio.istio-galley-service-account
    - configMap:
        defaultMode: 420
        name: istio-galley-configuration
      name: config
    - configMap:
        defaultMode: 420
        name: istio
      name: mesh-config
    - name: istio-galley-service-account-token-59jqk
      secret:
        defaultMode: 420
        secretName: istio-galley-service-account-token-59jqk
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:02Z"
      status: "True"
      type: PodScheduled
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:40:11Z"
    generateName: istio-ingressgateway-f659695c4-
    labels:
      app: istio-ingressgateway
      chart: gateways
      heritage: Tiller
      istio: ingressgateway
      pod-template-hash: f659695c4
      release: istio
    name: istio-ingressgateway-f659695c4-h82c9
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-ingressgateway-f659695c4
      uid: 52b8cca5-e614-11e9-a5da-42010a800258
    resourceVersion: "2805"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-ingressgateway-f659695c4-h82c9
    uid: 9d27d1cc-e615-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - proxy
      - router
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --log_output_level=default:info
      - --drainDuration
      - 45s
      - --parentShutdownDuration
      - 1m0s
      - --connectTimeout
      - 10s
      - --serviceCluster
      - istio-ingressgateway
      - --zipkinAddress
      - zipkin:9411
      - --proxyAdminPort
      - "15000"
      - --statusPort
      - "15020"
      - --controlPlaneAuthPolicy
      - NONE
      - --discoveryAddress
      - istio-pilot:15010
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: ISTIO_META_POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: ISTIO_META_CONFIG_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: ISTIO_META_ROUTER_MODE
        value: sni-dnat
      image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15020
        protocol: TCP
      - containerPort: 80
        protocol: TCP
      - containerPort: 443
        protocol: TCP
      - containerPort: 31400
        protocol: TCP
      - containerPort: 15029
        protocol: TCP
      - containerPort: 15030
        protocol: TCP
      - containerPort: 15031
        protocol: TCP
      - containerPort: 15032
        protocol: TCP
      - containerPort: 15443
        protocol: TCP
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      readinessProbe:
        failureThreshold: 30
        httpGet:
          path: /healthz/ready
          port: 15020
          scheme: HTTP
        initialDelaySeconds: 1
        periodSeconds: 2
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /etc/istio/ingressgateway-certs
        name: ingressgateway-certs
        readOnly: true
      - mountPath: /etc/istio/ingressgateway-ca-certs
        name: ingressgateway-ca-certs
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-ingressgateway-service-account-token-md2s5
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-ingressgateway-service-account
    serviceAccountName: istio-ingressgateway-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: istio-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio.istio-ingressgateway-service-account
    - name: ingressgateway-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio-ingressgateway-certs
    - name: ingressgateway-ca-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio-ingressgateway-ca-certs
    - name: istio-ingressgateway-service-account-token-md2s5
      secret:
        defaultMode: 420
        secretName: istio-ingressgateway-service-account-token-md2s5
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:11Z"
      status: "True"
      type: PodScheduled
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:30:57Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:41Z"
    generateName: istio-ingressgateway-f659695c4-
    labels:
      app: istio-ingressgateway
      chart: gateways
      heritage: Tiller
      istio: ingressgateway
      pod-template-hash: f659695c4
      release: istio
    name: istio-ingressgateway-f659695c4-v7t58
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-ingressgateway-f659695c4
      uid: 52b8cca5-e614-11e9-a5da-42010a800258
    resourceVersion: "2754"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-ingressgateway-f659695c4-v7t58
    uid: 52c2d7f6-e614-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - proxy
      - router
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --log_output_level=default:info
      - --drainDuration
      - 45s
      - --parentShutdownDuration
      - 1m0s
      - --connectTimeout
      - 10s
      - --serviceCluster
      - istio-ingressgateway
      - --zipkinAddress
      - zipkin:9411
      - --proxyAdminPort
      - "15000"
      - --statusPort
      - "15020"
      - --controlPlaneAuthPolicy
      - NONE
      - --discoveryAddress
      - istio-pilot:15010
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: ISTIO_META_POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: ISTIO_META_CONFIG_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: ISTIO_META_ROUTER_MODE
        value: sni-dnat
      image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15020
        protocol: TCP
      - containerPort: 80
        protocol: TCP
      - containerPort: 443
        protocol: TCP
      - containerPort: 31400
        protocol: TCP
      - containerPort: 15029
        protocol: TCP
      - containerPort: 15030
        protocol: TCP
      - containerPort: 15031
        protocol: TCP
      - containerPort: 15032
        protocol: TCP
      - containerPort: 15443
        protocol: TCP
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      readinessProbe:
        failureThreshold: 30
        httpGet:
          path: /healthz/ready
          port: 15020
          scheme: HTTP
        initialDelaySeconds: 1
        periodSeconds: 2
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /etc/istio/ingressgateway-certs
        name: ingressgateway-certs
        readOnly: true
      - mountPath: /etc/istio/ingressgateway-ca-certs
        name: ingressgateway-ca-certs
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-ingressgateway-service-account-token-md2s5
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-twh1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-ingressgateway-service-account
    serviceAccountName: istio-ingressgateway-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: istio-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio.istio-ingressgateway-service-account
    - name: ingressgateway-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio-ingressgateway-certs
    - name: ingressgateway-ca-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio-ingressgateway-ca-certs
    - name: istio-ingressgateway-service-account-token-md2s5
      secret:
        defaultMode: 420
        secretName: istio-ingressgateway-service-account-token-md2s5
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [istio-proxy]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [istio-proxy]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: istio-proxy
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.24
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-twh1 which was running
      pod istio-ingressgateway-f659695c4-v7t58 is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:03Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:40:01Z"
    generateName: istio-init-crd-10-2-
    labels:
      controller-uid: 51ffcd40-e614-11e9-a5da-42010a800258
      job-name: istio-init-crd-10-2
    name: istio-init-crd-10-2-5fr2d
    namespace: istio-system
    ownerReferences:
    - apiVersion: batch/v1
      blockOwnerDeletion: true
      controller: true
      kind: Job
      name: istio-init-crd-10-2
      uid: 51ffcd40-e614-11e9-a5da-42010a800258
    resourceVersion: "2724"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-init-crd-10-2-5fr2d
    uid: 9718a810-e615-11e9-a5da-42010a800258
  spec:
    containers:
    - command:
      - kubectl
      - apply
      - -f
      - /etc/istio/crd-10/crd-10.yaml
      image: gcr.io/gke-release/istio/kubectl:1.1.3-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-init-crd-10
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/istio/crd-10
        name: crd-10
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-init-service-account-token-xb5kx
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: OnFailure
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-init-service-account
    serviceAccountName: istio-init-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: istio-crd-10
      name: crd-10
    - name: istio-init-service-account-token-xb5kx
      secret:
        defaultMode: 420
        secretName: istio-init-service-account-token-xb5kx
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      message: 'containers with unready status: [istio-init-crd-10]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      message: 'containers with unready status: [istio-init-crd-10]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gcr.io/gke-release/istio/kubectl:1.1.3-gke.0
      imageID: ""
      lastState: {}
      name: istio-init-crd-10
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.26
    phase: Pending
    qosClass: BestEffort
    startTime: "2019-10-03T19:40:01Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:30:56Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:31Z"
    generateName: istio-init-crd-10-2-
    labels:
      controller-uid: 51ffcd40-e614-11e9-a5da-42010a800258
      job-name: istio-init-crd-10-2
    name: istio-init-crd-10-2-ssgrm
    namespace: istio-system
    ownerReferences:
    - apiVersion: batch/v1
      blockOwnerDeletion: true
      controller: true
      kind: Job
      name: istio-init-crd-10-2
      uid: 51ffcd40-e614-11e9-a5da-42010a800258
    resourceVersion: "2643"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-init-crd-10-2-ssgrm
    uid: 5201ce9f-e614-11e9-a5da-42010a800258
  spec:
    containers:
    - command:
      - kubectl
      - apply
      - -f
      - /etc/istio/crd-10/crd-10.yaml
      image: gcr.io/gke-release/istio/kubectl:1.1.3-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-init-crd-10
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/istio/crd-10
        name: crd-10
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-init-service-account-token-xb5kx
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx
    priority: 0
    restartPolicy: OnFailure
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-init-service-account
    serviceAccountName: istio-init-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: istio-crd-10
      name: crd-10
    - name: istio-init-service-account-token-xb5kx
      secret:
        defaultMode: 420
        secretName: istio-init-service-account-token-xb5kx
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      message: 'containers with unready status: [istio-init-crd-10]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      message: 'containers with unready status: [istio-init-crd-10]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gcr.io/gke-release/istio/kubectl:1.1.3-gke.0
      imageID: ""
      lastState: {}
      name: istio-init-crd-10
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.25
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx which was running
      pod istio-init-crd-10-2-ssgrm is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:02Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:30:56Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:41Z"
    generateName: istio-init-crd-11-2-
    labels:
      controller-uid: 520a0295-e614-11e9-a5da-42010a800258
      job-name: istio-init-crd-11-2
    name: istio-init-crd-11-2-82cpb
    namespace: istio-system
    ownerReferences:
    - apiVersion: batch/v1
      blockOwnerDeletion: true
      controller: true
      kind: Job
      name: istio-init-crd-11-2
      uid: 520a0295-e614-11e9-a5da-42010a800258
    resourceVersion: "2756"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-init-crd-11-2-82cpb
    uid: 520b3dcc-e614-11e9-a5da-42010a800258
  spec:
    containers:
    - command:
      - kubectl
      - apply
      - -f
      - /etc/istio/crd-11/crd-11.yaml
      image: gcr.io/gke-release/istio/kubectl:1.1.3-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-init-crd-11
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/istio/crd-11
        name: crd-11
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-init-service-account-token-xb5kx
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-twh1
    priority: 0
    restartPolicy: OnFailure
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-init-service-account
    serviceAccountName: istio-init-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: istio-crd-11
      name: crd-11
    - name: istio-init-service-account-token-xb5kx
      secret:
        defaultMode: 420
        secretName: istio-init-service-account-token-xb5kx
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      message: 'containers with unready status: [istio-init-crd-11]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      message: 'containers with unready status: [istio-init-crd-11]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:02Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gcr.io/gke-release/istio/kubectl:1.1.3-gke.0
      imageID: ""
      lastState: {}
      name: istio-init-crd-11
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.24
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-twh1 which was running
      pod istio-init-crd-11-2-82cpb is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:02Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:40:11Z"
    generateName: istio-init-crd-11-2-
    labels:
      controller-uid: 520a0295-e614-11e9-a5da-42010a800258
      job-name: istio-init-crd-11-2
    name: istio-init-crd-11-2-zldr5
    namespace: istio-system
    ownerReferences:
    - apiVersion: batch/v1
      blockOwnerDeletion: true
      controller: true
      kind: Job
      name: istio-init-crd-11-2
      uid: 520a0295-e614-11e9-a5da-42010a800258
    resourceVersion: "2811"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-init-crd-11-2-zldr5
    uid: 9d284b52-e615-11e9-a5da-42010a800258
  spec:
    containers:
    - command:
      - kubectl
      - apply
      - -f
      - /etc/istio/crd-11/crd-11.yaml
      image: gcr.io/gke-release/istio/kubectl:1.1.3-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-init-crd-11
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/istio/crd-11
        name: crd-11
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-init-service-account-token-xb5kx
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: OnFailure
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-init-service-account
    serviceAccountName: istio-init-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: istio-crd-11
      name: crd-11
    - name: istio-init-service-account-token-xb5kx
      secret:
        defaultMode: 420
        secretName: istio-init-service-account-token-xb5kx
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:11Z"
      status: "True"
      type: PodScheduled
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:40:01Z"
    generateName: istio-pilot-574b687db6-
    labels:
      app: pilot
      chart: pilot
      heritage: Tiller
      istio: pilot
      pod-template-hash: 574b687db6
      release: istio
    name: istio-pilot-574b687db6-mrftg
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-pilot-574b687db6
      uid: 533abdb6-e614-11e9-a5da-42010a800258
    resourceVersion: "2729"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-pilot-574b687db6-mrftg
    uid: 9719260c-e615-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - discovery
      - --monitoringAddr=:15014
      - --log_output_level=default:info
      - --domain
      - cluster.local
      - --secureGrpcAddr
      - ""
      - --keepaliveMaxServerConnectionAge
      - 30m
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: GODEBUG
        value: gctrace=1
      - name: PILOT_PUSH_THROTTLE
        value: "100"
      - name: PILOT_TRACE_SAMPLING
        value: "1"
      - name: PILOT_DISABLE_XDS_MARSHALING_TO_ANY
        value: "1"
      image: gke.gcr.io/istio/pilot:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: discovery
      ports:
      - containerPort: 8080
        protocol: TCP
      - containerPort: 15010
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /ready
          port: 8080
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 5
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/istio/config
        name: config-volume
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-pilot-service-account-token-24j4t
        readOnly: true
    - args:
      - proxy
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --serviceCluster
      - istio-pilot
      - --templateFile
      - /etc/istio/proxy/envoy_pilot.yaml.tmpl
      - --controlPlaneAuthPolicy
      - NONE
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15003
        protocol: TCP
      - containerPort: 15005
        protocol: TCP
      - containerPort: 15007
        protocol: TCP
      - containerPort: 15011
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-pilot-service-account-token-24j4t
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-pilot-service-account
    serviceAccountName: istio-pilot-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: istio
      name: config-volume
    - name: istio-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio.istio-pilot-service-account
    - name: istio-pilot-service-account-token-24j4t
      secret:
        defaultMode: 420
        secretName: istio-pilot-service-account-token-24j4t
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      message: 'containers with unready status: [discovery istio-proxy]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      message: 'containers with unready status: [discovery istio-proxy]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/pilot:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: discovery
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    - image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: istio-proxy
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.26
    phase: Pending
    qosClass: BestEffort
    startTime: "2019-10-03T19:40:01Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:30:58Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:31Z"
    generateName: istio-pilot-574b687db6-
    labels:
      app: pilot
      chart: pilot
      heritage: Tiller
      istio: pilot
      pod-template-hash: 574b687db6
      release: istio
    name: istio-pilot-574b687db6-x4zc6
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-pilot-574b687db6
      uid: 533abdb6-e614-11e9-a5da-42010a800258
    resourceVersion: "2645"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-pilot-574b687db6-x4zc6
    uid: 53475036-e614-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - discovery
      - --monitoringAddr=:15014
      - --log_output_level=default:info
      - --domain
      - cluster.local
      - --secureGrpcAddr
      - ""
      - --keepaliveMaxServerConnectionAge
      - 30m
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: GODEBUG
        value: gctrace=1
      - name: PILOT_PUSH_THROTTLE
        value: "100"
      - name: PILOT_TRACE_SAMPLING
        value: "1"
      - name: PILOT_DISABLE_XDS_MARSHALING_TO_ANY
        value: "1"
      image: gke.gcr.io/istio/pilot:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: discovery
      ports:
      - containerPort: 8080
        protocol: TCP
      - containerPort: 15010
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /ready
          port: 8080
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 5
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/istio/config
        name: config-volume
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-pilot-service-account-token-24j4t
        readOnly: true
    - args:
      - proxy
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --serviceCluster
      - istio-pilot
      - --templateFile
      - /etc/istio/proxy/envoy_pilot.yaml.tmpl
      - --controlPlaneAuthPolicy
      - NONE
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15003
        protocol: TCP
      - containerPort: 15005
        protocol: TCP
      - containerPort: 15007
        protocol: TCP
      - containerPort: 15011
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-pilot-service-account-token-24j4t
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-pilot-service-account
    serviceAccountName: istio-pilot-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: istio
      name: config-volume
    - name: istio-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio.istio-pilot-service-account
    - name: istio-pilot-service-account-token-24j4t
      secret:
        defaultMode: 420
        secretName: istio-pilot-service-account-token-24j4t
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [discovery istio-proxy]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [discovery istio-proxy]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/pilot:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: discovery
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    - image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: istio-proxy
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.25
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx which was running
      pod istio-pilot-574b687db6-x4zc6 is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:03Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:30:57Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:31Z"
    generateName: istio-policy-5fcfdf8488-
    labels:
      app: policy
      chart: mixer
      heritage: Tiller
      istio: mixer
      istio-mixer-type: policy
      pod-template-hash: 5fcfdf8488
      release: istio
    name: istio-policy-5fcfdf8488-2snxz
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-policy-5fcfdf8488
      uid: 52e87b8b-e614-11e9-a5da-42010a800258
    resourceVersion: "2647"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-policy-5fcfdf8488-2snxz
    uid: 52f47171-e614-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - --monitoringPort=15014
      - --address
      - unix:///sock/mixer.socket
      - --log_output_level=default:info
      - --configStoreURL=mcp://istio-galley.istio-system.svc:9901
      - --configDefaultNamespace=istio-system
      - --useAdapterCRDs=true
      - --trace_zipkin_url=http://zipkin:9411/api/v1/spans
      env:
      - name: GODEBUG
        value: gctrace=1
      - name: GOMAXPROCS
        value: "6"
      image: gke.gcr.io/istio/mixer:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /version
          port: 15014
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 1
      name: mixer
      ports:
      - containerPort: 15014
        protocol: TCP
      - containerPort: 42422
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /sock
        name: uds-socket
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-mixer-service-account-token-xrc9d
        readOnly: true
    - args:
      - proxy
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --serviceCluster
      - istio-policy
      - --templateFile
      - /etc/istio/proxy/envoy_policy.yaml.tmpl
      - --controlPlaneAuthPolicy
      - NONE
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 9091
        protocol: TCP
      - containerPort: 15004
        protocol: TCP
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /sock
        name: uds-socket
      - mountPath: /var/run/secrets/istio.io/policy/adapter
        name: policy-adapter-secret
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-mixer-service-account-token-xrc9d
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-mixer-service-account
    serviceAccountName: istio-mixer-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: istio-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio.istio-mixer-service-account
    - emptyDir: {}
      name: uds-socket
    - name: policy-adapter-secret
      secret:
        defaultMode: 420
        optional: true
        secretName: policy-adapter-secret
    - name: istio-mixer-service-account-token-xrc9d
      secret:
        defaultMode: 420
        secretName: istio-mixer-service-account-token-xrc9d
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [mixer istio-proxy]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [mixer istio-proxy]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: istio-proxy
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    - image: gke.gcr.io/istio/mixer:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: mixer
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.25
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx which was running
      pod istio-policy-5fcfdf8488-2snxz is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:03Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:40:01Z"
    generateName: istio-policy-5fcfdf8488-
    labels:
      app: policy
      chart: mixer
      heritage: Tiller
      istio: mixer
      istio-mixer-type: policy
      pod-template-hash: 5fcfdf8488
      release: istio
    name: istio-policy-5fcfdf8488-tgfsn
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-policy-5fcfdf8488
      uid: 52e87b8b-e614-11e9-a5da-42010a800258
    resourceVersion: "2709"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-policy-5fcfdf8488-tgfsn
    uid: 974d10b4-e615-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - --monitoringPort=15014
      - --address
      - unix:///sock/mixer.socket
      - --log_output_level=default:info
      - --configStoreURL=mcp://istio-galley.istio-system.svc:9901
      - --configDefaultNamespace=istio-system
      - --useAdapterCRDs=true
      - --trace_zipkin_url=http://zipkin:9411/api/v1/spans
      env:
      - name: GODEBUG
        value: gctrace=1
      - name: GOMAXPROCS
        value: "6"
      image: gke.gcr.io/istio/mixer:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /version
          port: 15014
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 1
      name: mixer
      ports:
      - containerPort: 15014
        protocol: TCP
      - containerPort: 42422
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /sock
        name: uds-socket
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-mixer-service-account-token-xrc9d
        readOnly: true
    - args:
      - proxy
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --serviceCluster
      - istio-policy
      - --templateFile
      - /etc/istio/proxy/envoy_policy.yaml.tmpl
      - --controlPlaneAuthPolicy
      - NONE
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 9091
        protocol: TCP
      - containerPort: 15004
        protocol: TCP
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /sock
        name: uds-socket
      - mountPath: /var/run/secrets/istio.io/policy/adapter
        name: policy-adapter-secret
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-mixer-service-account-token-xrc9d
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-mixer-service-account
    serviceAccountName: istio-mixer-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: istio-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio.istio-mixer-service-account
    - emptyDir: {}
      name: uds-socket
    - name: policy-adapter-secret
      secret:
        defaultMode: 420
        optional: true
        secretName: policy-adapter-secret
    - name: istio-mixer-service-account-token-xrc9d
      secret:
        defaultMode: 420
        secretName: istio-mixer-service-account-token-xrc9d
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:02Z"
      status: "True"
      type: PodScheduled
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2019-10-03T19:40:11Z"
    generateName: istio-security-post-install-1.1.12-
    labels:
      app: security
      chart: security
      controller-uid: 52566e46-e614-11e9-a5da-42010a800258
      heritage: Tiller
      job-name: istio-security-post-install-1.1.12
      release: istio
    name: istio-security-post-install-1.1.12-6d9x7
    namespace: istio-system
    ownerReferences:
    - apiVersion: batch/v1
      blockOwnerDeletion: true
      controller: true
      kind: Job
      name: istio-security-post-install-1.1.12
      uid: 52566e46-e614-11e9-a5da-42010a800258
    resourceVersion: "2810"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-security-post-install-1.1.12-6d9x7
    uid: 9d2840d5-e615-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - command:
      - /bin/bash
      - /tmp/security/run.sh
      - /tmp/security/custom-resources.yaml
      image: gke.gcr.io/istio/kubectl:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: kubectl
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /tmp/security
        name: tmp-configmap-security
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-security-post-install-account-token-tpjr6
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: OnFailure
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-security-post-install-account
    serviceAccountName: istio-security-post-install-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: istio-security-custom-resources
      name: tmp-configmap-security
    - name: istio-security-post-install-account-token-tpjr6
      secret:
        defaultMode: 420
        secretName: istio-security-post-install-account-token-tpjr6
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:11Z"
      status: "True"
      type: PodScheduled
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2019-10-03T19:30:56Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:41Z"
    generateName: istio-security-post-install-1.1.12-
    labels:
      app: security
      chart: security
      controller-uid: 52566e46-e614-11e9-a5da-42010a800258
      heritage: Tiller
      job-name: istio-security-post-install-1.1.12
      release: istio
    name: istio-security-post-install-1.1.12-bwx6d
    namespace: istio-system
    ownerReferences:
    - apiVersion: batch/v1
      blockOwnerDeletion: true
      controller: true
      kind: Job
      name: istio-security-post-install-1.1.12
      uid: 52566e46-e614-11e9-a5da-42010a800258
    resourceVersion: "2758"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-security-post-install-1.1.12-bwx6d
    uid: 52582fc6-e614-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - command:
      - /bin/bash
      - /tmp/security/run.sh
      - /tmp/security/custom-resources.yaml
      image: gke.gcr.io/istio/kubectl:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: kubectl
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /tmp/security
        name: tmp-configmap-security
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-security-post-install-account-token-tpjr6
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-twh1
    priority: 0
    restartPolicy: OnFailure
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-security-post-install-account
    serviceAccountName: istio-security-post-install-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: istio-security-custom-resources
      name: tmp-configmap-security
    - name: istio-security-post-install-account-token-tpjr6
      secret:
        defaultMode: 420
        secretName: istio-security-post-install-account-token-tpjr6
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [kubectl]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [kubectl]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/kubectl:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: kubectl
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.24
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-twh1 which was running
      pod istio-security-post-install-1.1.12-bwx6d is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:03Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:40:01Z"
    generateName: istio-sidecar-injector-7cdf57868b-
    labels:
      app: sidecarInjectorWebhook
      chart: sidecarInjectorWebhook
      heritage: Tiller
      istio: sidecar-injector
      pod-template-hash: 7cdf57868b
      release: istio
    name: istio-sidecar-injector-7cdf57868b-55hr5
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-sidecar-injector-7cdf57868b
      uid: 53b292e5-e614-11e9-a5da-42010a800258
    resourceVersion: "2730"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-sidecar-injector-7cdf57868b-55hr5
    uid: 973ab856-e615-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - --caCertFile=/etc/istio/certs/root-cert.pem
      - --tlsCertFile=/etc/istio/certs/cert-chain.pem
      - --tlsKeyFile=/etc/istio/certs/key.pem
      - --injectConfig=/etc/istio/inject/config
      - --meshConfig=/etc/istio/config/mesh
      - --healthCheckInterval=2s
      - --healthCheckFile=/health
      image: gke.gcr.io/istio/sidecar_injector:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        exec:
          command:
          - /usr/local/bin/sidecar-injector
          - probe
          - --probe-path=/health
          - --interval=4s
        failureThreshold: 3
        initialDelaySeconds: 4
        periodSeconds: 4
        successThreshold: 1
        timeoutSeconds: 1
      name: sidecar-injector-webhook
      readinessProbe:
        exec:
          command:
          - /usr/local/bin/sidecar-injector
          - probe
          - --probe-path=/health
          - --interval=4s
        failureThreshold: 3
        initialDelaySeconds: 4
        periodSeconds: 4
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/istio/config
        name: config-volume
        readOnly: true
      - mountPath: /etc/istio/certs
        name: certs
        readOnly: true
      - mountPath: /etc/istio/inject
        name: inject-config
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-sidecar-injector-service-account-token-8pscf
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-sidecar-injector-service-account
    serviceAccountName: istio-sidecar-injector-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: istio
      name: config-volume
    - name: certs
      secret:
        defaultMode: 420
        secretName: istio.istio-sidecar-injector-service-account
    - configMap:
        defaultMode: 420
        items:
        - key: config
          path: config
        name: istio-sidecar-injector
      name: inject-config
    - name: istio-sidecar-injector-service-account-token-8pscf
      secret:
        defaultMode: 420
        secretName: istio-sidecar-injector-service-account-token-8pscf
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      message: 'containers with unready status: [sidecar-injector-webhook]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      message: 'containers with unready status: [sidecar-injector-webhook]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:01Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/sidecar_injector:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: sidecar-injector-webhook
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.26
    phase: Pending
    qosClass: BestEffort
    startTime: "2019-10-03T19:40:01Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:30:58Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:31Z"
    generateName: istio-sidecar-injector-7cdf57868b-
    labels:
      app: sidecarInjectorWebhook
      chart: sidecarInjectorWebhook
      heritage: Tiller
      istio: sidecar-injector
      pod-template-hash: 7cdf57868b
      release: istio
    name: istio-sidecar-injector-7cdf57868b-xc4hr
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-sidecar-injector-7cdf57868b
      uid: 53b292e5-e614-11e9-a5da-42010a800258
    resourceVersion: "2649"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-sidecar-injector-7cdf57868b-xc4hr
    uid: 53b96613-e614-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - --caCertFile=/etc/istio/certs/root-cert.pem
      - --tlsCertFile=/etc/istio/certs/cert-chain.pem
      - --tlsKeyFile=/etc/istio/certs/key.pem
      - --injectConfig=/etc/istio/inject/config
      - --meshConfig=/etc/istio/config/mesh
      - --healthCheckInterval=2s
      - --healthCheckFile=/health
      image: gke.gcr.io/istio/sidecar_injector:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        exec:
          command:
          - /usr/local/bin/sidecar-injector
          - probe
          - --probe-path=/health
          - --interval=4s
        failureThreshold: 3
        initialDelaySeconds: 4
        periodSeconds: 4
        successThreshold: 1
        timeoutSeconds: 1
      name: sidecar-injector-webhook
      readinessProbe:
        exec:
          command:
          - /usr/local/bin/sidecar-injector
          - probe
          - --probe-path=/health
          - --interval=4s
        failureThreshold: 3
        initialDelaySeconds: 4
        periodSeconds: 4
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/istio/config
        name: config-volume
        readOnly: true
      - mountPath: /etc/istio/certs
        name: certs
        readOnly: true
      - mountPath: /etc/istio/inject
        name: inject-config
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-sidecar-injector-service-account-token-8pscf
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-sidecar-injector-service-account
    serviceAccountName: istio-sidecar-injector-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: istio
      name: config-volume
    - name: certs
      secret:
        defaultMode: 420
        secretName: istio.istio-sidecar-injector-service-account
    - configMap:
        defaultMode: 420
        items:
        - key: config
          path: config
        name: istio-sidecar-injector
      name: inject-config
    - name: istio-sidecar-injector-service-account-token-8pscf
      secret:
        defaultMode: 420
        secretName: istio-sidecar-injector-service-account-token-8pscf
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [sidecar-injector-webhook]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [sidecar-injector-webhook]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/sidecar_injector:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: sidecar-injector-webhook
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.25
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-n8xx which was running
      pod istio-sidecar-injector-7cdf57868b-xc4hr is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:03Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:30:58Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:41Z"
    generateName: istio-telemetry-7f768d6786-
    labels:
      app: telemetry
      chart: mixer
      heritage: Tiller
      istio: mixer
      istio-mixer-type: telemetry
      pod-template-hash: 7f768d6786
      release: istio
    name: istio-telemetry-7f768d6786-496pw
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-telemetry-7f768d6786
      uid: 5323e7fc-e614-11e9-a5da-42010a800258
    resourceVersion: "2760"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-telemetry-7f768d6786-496pw
    uid: 532ae577-e614-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - --monitoringPort=15014
      - --address
      - unix:///sock/mixer.socket
      - --log_output_level=default:info
      - --configStoreURL=mcp://istio-galley.istio-system.svc:9901
      - --configDefaultNamespace=istio-system
      - --useAdapterCRDs=true
      - --trace_zipkin_url=http://zipkin:9411/api/v1/spans
      - --averageLatencyThreshold
      - 5000ms
      - --loadsheddingMode
      - enforce
      env:
      - name: GODEBUG
        value: gctrace=1
      - name: GOMAXPROCS
        value: "6"
      image: gke.gcr.io/istio/mixer:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /version
          port: 15014
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 1
      name: mixer
      ports:
      - containerPort: 15014
        protocol: TCP
      - containerPort: 42422
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /var/run/secrets/istio.io/telemetry/adapter
        name: telemetry-adapter-secret
        readOnly: true
      - mountPath: /sock
        name: uds-socket
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-mixer-service-account-token-xrc9d
        readOnly: true
    - args:
      - proxy
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --serviceCluster
      - istio-telemetry
      - --templateFile
      - /etc/istio/proxy/envoy_telemetry.yaml.tmpl
      - --controlPlaneAuthPolicy
      - NONE
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 9091
        protocol: TCP
      - containerPort: 15004
        protocol: TCP
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /sock
        name: uds-socket
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-mixer-service-account-token-xrc9d
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-twh1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-mixer-service-account
    serviceAccountName: istio-mixer-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: istio-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio.istio-mixer-service-account
    - emptyDir: {}
      name: uds-socket
    - name: telemetry-adapter-secret
      secret:
        defaultMode: 420
        optional: true
        secretName: telemetry-adapter-secret
    - name: istio-mixer-service-account-token-xrc9d
      secret:
        defaultMode: 420
        secretName: istio-mixer-service-account-token-xrc9d
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [mixer istio-proxy]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [mixer istio-proxy]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: istio-proxy
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    - image: gke.gcr.io/istio/mixer:1.1.13-gke.0
      imageID: ""
      lastState: {}
      name: mixer
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.24
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-twh1 which was running
      pod istio-telemetry-7f768d6786-496pw is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:03Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:40:11Z"
    generateName: istio-telemetry-7f768d6786-
    labels:
      app: telemetry
      chart: mixer
      heritage: Tiller
      istio: mixer
      istio-mixer-type: telemetry
      pod-template-hash: 7f768d6786
      release: istio
    name: istio-telemetry-7f768d6786-8w96b
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-telemetry-7f768d6786
      uid: 5323e7fc-e614-11e9-a5da-42010a800258
    resourceVersion: "2812"
    selfLink: /api/v1/namespaces/istio-system/pods/istio-telemetry-7f768d6786-8w96b
    uid: 9d282837-e615-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - --monitoringPort=15014
      - --address
      - unix:///sock/mixer.socket
      - --log_output_level=default:info
      - --configStoreURL=mcp://istio-galley.istio-system.svc:9901
      - --configDefaultNamespace=istio-system
      - --useAdapterCRDs=true
      - --trace_zipkin_url=http://zipkin:9411/api/v1/spans
      - --averageLatencyThreshold
      - 5000ms
      - --loadsheddingMode
      - enforce
      env:
      - name: GODEBUG
        value: gctrace=1
      - name: GOMAXPROCS
        value: "6"
      image: gke.gcr.io/istio/mixer:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /version
          port: 15014
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 1
      name: mixer
      ports:
      - containerPort: 15014
        protocol: TCP
      - containerPort: 42422
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /var/run/secrets/istio.io/telemetry/adapter
        name: telemetry-adapter-secret
        readOnly: true
      - mountPath: /sock
        name: uds-socket
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-mixer-service-account-token-xrc9d
        readOnly: true
    - args:
      - proxy
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --serviceCluster
      - istio-telemetry
      - --templateFile
      - /etc/istio/proxy/envoy_telemetry.yaml.tmpl
      - --controlPlaneAuthPolicy
      - NONE
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 9091
        protocol: TCP
      - containerPort: 15004
        protocol: TCP
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/certs
        name: istio-certs
        readOnly: true
      - mountPath: /sock
        name: uds-socket
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: istio-mixer-service-account-token-xrc9d
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istio-mixer-service-account
    serviceAccountName: istio-mixer-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: istio-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio.istio-mixer-service-account
    - emptyDir: {}
      name: uds-socket
    - name: telemetry-adapter-secret
      secret:
        defaultMode: 420
        optional: true
        secretName: telemetry-adapter-secret
    - name: istio-mixer-service-account-token-xrc9d
      secret:
        defaultMode: 420
        secretName: istio-mixer-service-account-token-xrc9d
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:11Z"
      status: "True"
      type: PodScheduled
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      scheduler.alpha.kubernetes.io/critical-pod: ""
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:40:11Z"
    generateName: promsd-65bfd5f46c-
    labels:
      app: promsd
      pod-template-hash: 65bfd5f46c
    name: promsd-65bfd5f46c-gkn9x
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: promsd-65bfd5f46c
      uid: 543e8c9d-e614-11e9-a5da-42010a800258
    resourceVersion: "2783"
    selfLink: /api/v1/namespaces/istio-system/pods/promsd-65bfd5f46c-gkn9x
    uid: 9d1605b6-e615-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - --prometheus.wal-directory=/data/wal
      - --stackdriver.project-id=
      - --stackdriver.kubernetes.location=
      - --stackdriver.kubernetes.cluster-name=
      - --stackdriver.use-gke-resource
      - --stackdriver.metrics-prefix=container.googleapis.com/internal/addons/istio
      - --config-file=/etc/prometheus-sidecar/sidecar.yml
      - --filter=__name__=~"^(pilot_xds_pushes|pilot_xds_push_timeouts|pilot_errors_xds|pilot_errors_internal|mixer_dropped_request_count|envoy_cx_errors|envoy_cx_timeouts|envoy_cx_count|envoy_rq_count|envoy_http_mixer_filter_total_report_calls)$"
      env:
      - name: DEBUG
        value: "1"
      image: gcr.io/gke-release/istio/prometheus/stackdriver-prometheus-sidecar:0.1
      imagePullPolicy: Always
      name: sidecar
      ports:
      - containerPort: 9091
        name: sidecar
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /data
        name: data-volume
      - mountPath: /etc/prometheus-sidecar
        name: static-config-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: promsd-token-vpqrx
        readOnly: true
    - args:
      - --storage.tsdb.retention=6h
      - --storage.tsdb.path=/data
      - --storage.tsdb.min-block-duration=15m
      - --storage.tsdb.max-block-duration=4h
      - --config.file=/etc/prometheus/prometheus.yml
      image: gcr.io/gke-release/istio/prometheus/prometheus:v2.4.3
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /-/healthy
          port: 9090
          scheme: HTTP
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: promsd
      ports:
      - containerPort: 9090
        name: http
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /-/ready
          port: 9090
          scheme: HTTP
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/prometheus
        name: config-volume
      - mountPath: /etc/prometheus-rules
        name: rules-config-volume
      - mountPath: /etc/istio-certs
        name: istio-certs
      - mountPath: /data
        name: data-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: promsd-token-vpqrx
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-pbk1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: promsd
    serviceAccountName: promsd
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: promsd
      name: config-volume
    - configMap:
        defaultMode: 420
        name: promsd-rules
      name: rules-config-volume
    - emptyDir: {}
      name: data-volume
    - configMap:
        defaultMode: 420
        name: promsd-sidecar
      name: static-config-volume
    - name: istio-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio.default
    - name: promsd-token-vpqrx
      secret:
        defaultMode: 420
        secretName: promsd-token-vpqrx
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:40:11Z"
      status: "True"
      type: PodScheduled
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      scheduler.alpha.kubernetes.io/critical-pod: ""
      seccomp.security.alpha.kubernetes.io/pod: docker/default
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2019-10-03T19:30:59Z"
    deletionGracePeriodSeconds: 30
    deletionTimestamp: "2019-10-03T19:40:41Z"
    generateName: promsd-65bfd5f46c-
    labels:
      app: promsd
      pod-template-hash: 65bfd5f46c
    name: promsd-65bfd5f46c-xrgs5
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: promsd-65bfd5f46c
      uid: 543e8c9d-e614-11e9-a5da-42010a800258
    resourceVersion: "2762"
    selfLink: /api/v1/namespaces/istio-system/pods/promsd-65bfd5f46c-xrgs5
    uid: 544872df-e614-11e9-a5da-42010a800258
  spec:
    affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - ppc64le
          weight: 2
        - preference:
            matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - s390x
          weight: 2
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: beta.kubernetes.io/arch
              operator: In
              values:
              - amd64
              - ppc64le
              - s390x
    containers:
    - args:
      - --prometheus.wal-directory=/data/wal
      - --stackdriver.project-id=
      - --stackdriver.kubernetes.location=
      - --stackdriver.kubernetes.cluster-name=
      - --stackdriver.use-gke-resource
      - --stackdriver.metrics-prefix=container.googleapis.com/internal/addons/istio
      - --config-file=/etc/prometheus-sidecar/sidecar.yml
      - --filter=__name__=~"^(pilot_xds_pushes|pilot_xds_push_timeouts|pilot_errors_xds|pilot_errors_internal|mixer_dropped_request_count|envoy_cx_errors|envoy_cx_timeouts|envoy_cx_count|envoy_rq_count|envoy_http_mixer_filter_total_report_calls)$"
      env:
      - name: DEBUG
        value: "1"
      image: gcr.io/gke-release/istio/prometheus/stackdriver-prometheus-sidecar:0.1
      imagePullPolicy: Always
      name: sidecar
      ports:
      - containerPort: 9091
        name: sidecar
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /data
        name: data-volume
      - mountPath: /etc/prometheus-sidecar
        name: static-config-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: promsd-token-vpqrx
        readOnly: true
    - args:
      - --storage.tsdb.retention=6h
      - --storage.tsdb.path=/data
      - --storage.tsdb.min-block-duration=15m
      - --storage.tsdb.max-block-duration=4h
      - --config.file=/etc/prometheus/prometheus.yml
      image: gcr.io/gke-release/istio/prometheus/prometheus:v2.4.3
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /-/healthy
          port: 9090
          scheme: HTTP
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: promsd
      ports:
      - containerPort: 9090
        name: http
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /-/ready
          port: 9090
          scheme: HTTP
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/prometheus
        name: config-volume
      - mountPath: /etc/prometheus-rules
        name: rules-config-volume
      - mountPath: /etc/istio-certs
        name: istio-certs
      - mountPath: /data
        name: data-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: promsd-token-vpqrx
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: gke-standard-cluster-2-default-pool-b2ba9ac6-twh1
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: promsd
    serviceAccountName: promsd
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: promsd
      name: config-volume
    - configMap:
        defaultMode: 420
        name: promsd-rules
      name: rules-config-volume
    - emptyDir: {}
      name: data-volume
    - configMap:
        defaultMode: 420
        name: promsd-sidecar
      name: static-config-volume
    - name: istio-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio.default
    - name: promsd-token-vpqrx
      secret:
        defaultMode: 420
        secretName: promsd-token-vpqrx
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [sidecar promsd]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      message: 'containers with unready status: [sidecar promsd]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-10-03T19:31:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: gcr.io/gke-release/istio/prometheus/prometheus:v2.4.3
      imageID: ""
      lastState: {}
      name: promsd
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    - image: gcr.io/gke-release/istio/prometheus/stackdriver-prometheus-sidecar:0.1
      imageID: ""
      lastState: {}
      name: sidecar
      ready: false
      restartCount: 0
      state:
        waiting:
          reason: ContainerCreating
    hostIP: 10.128.0.24
    message: Node gke-standard-cluster-2-default-pool-b2ba9ac6-twh1 which was running
      pod promsd-65bfd5f46c-xrgs5 is unresponsive
    phase: Pending
    qosClass: BestEffort
    reason: NodeLost
    startTime: "2019-10-03T19:31:03Z"
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"security","chart":"security","heritage":"Tiller","istio":"citadel","k8s-app":"istio","kubernetes.io/cluster-service":"true","release":"istio"},"name":"istio-citadel","namespace":"istio-system"},"spec":{"ports":[{"name":"grpc-citadel","port":8060,"protocol":"TCP","targetPort":8060},{"name":"http-monitoring","port":15014}],"selector":{"istio":"citadel"}}}
    creationTimestamp: "2019-10-03T19:31:47Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: security
      chart: security
      heritage: Tiller
      istio: citadel
      k8s-app: istio
      kubernetes.io/cluster-service: "true"
      release: istio
    name: istio-citadel
    namespace: istio-system
    resourceVersion: "991"
    selfLink: /api/v1/namespaces/istio-system/services/istio-citadel
    uid: 706bb48e-e614-11e9-a5da-42010a800258
  spec:
    clusterIP: 10.70.1.169
    ports:
    - name: grpc-citadel
      port: 8060
      protocol: TCP
      targetPort: 8060
    - name: http-monitoring
      port: 15014
      protocol: TCP
      targetPort: 15014
    selector:
      istio: citadel
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"galley","chart":"galley","heritage":"Tiller","istio":"galley","k8s-app":"istio","kubernetes.io/cluster-service":"true","release":"istio"},"name":"istio-galley","namespace":"istio-system"},"spec":{"ports":[{"name":"https-validation","port":443},{"name":"http-monitoring","port":15014},{"name":"grpc-mcp","port":9901}],"selector":{"istio":"galley"}}}
    creationTimestamp: "2019-10-03T19:31:46Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: galley
      chart: galley
      heritage: Tiller
      istio: galley
      k8s-app: istio
      kubernetes.io/cluster-service: "true"
      release: istio
    name: istio-galley
    namespace: istio-system
    resourceVersion: "967"
    selfLink: /api/v1/namespaces/istio-system/services/istio-galley
    uid: 704ebed0-e614-11e9-a5da-42010a800258
  spec:
    clusterIP: 10.70.6.232
    ports:
    - name: https-validation
      port: 443
      protocol: TCP
      targetPort: 443
    - name: http-monitoring
      port: 15014
      protocol: TCP
      targetPort: 15014
    - name: grpc-mcp
      port: 9901
      protocol: TCP
      targetPort: 9901
    selector:
      istio: galley
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"istio-ingressgateway","chart":"gateways","heritage":"Tiller","istio":"ingressgateway","k8s-app":"istio","kubernetes.io/cluster-service":"true","release":"istio"},"name":"istio-ingressgateway","namespace":"istio-system"},"spec":{"ports":[{"name":"status-port","port":15020,"targetPort":15020},{"name":"http2","nodePort":31380,"port":80,"targetPort":80},{"name":"https","nodePort":31390,"port":443},{"name":"tcp","nodePort":31400,"port":31400},{"name":"https-kiali","port":15029,"targetPort":15029},{"name":"https-prometheus","port":15030,"targetPort":15030},{"name":"https-grafana","port":15031,"targetPort":15031},{"name":"https-tracing","port":15032,"targetPort":15032},{"name":"tls","port":15443,"targetPort":15443}],"selector":{"app":"istio-ingressgateway","istio":"ingressgateway","release":"istio"},"type":"NodePort"}}
    creationTimestamp: "2019-10-03T19:31:46Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: istio-ingressgateway
      chart: gateways
      heritage: Tiller
      istio: ingressgateway
      k8s-app: istio
      kubernetes.io/cluster-service: "true"
      release: istio
    name: istio-ingressgateway
    namespace: istio-system
    resourceVersion: "1204"
    selfLink: /api/v1/namespaces/istio-system/services/istio-ingressgateway
    uid: 705680ef-e614-11e9-a5da-42010a800258
  spec:
    clusterIP: 10.70.6.162
    externalTrafficPolicy: Cluster
    ports:
    - name: status-port
      nodePort: 31263
      port: 15020
      protocol: TCP
      targetPort: 15020
    - name: http2
      nodePort: 31380
      port: 80
      protocol: TCP
      targetPort: 80
    - name: https
      nodePort: 31390
      port: 443
      protocol: TCP
      targetPort: 443
    - name: tcp
      nodePort: 31400
      port: 31400
      protocol: TCP
      targetPort: 31400
    - name: https-kiali
      nodePort: 30942
      port: 15029
      protocol: TCP
      targetPort: 15029
    - name: https-prometheus
      nodePort: 31422
      port: 15030
      protocol: TCP
      targetPort: 15030
    - name: https-grafana
      nodePort: 31160
      port: 15031
      protocol: TCP
      targetPort: 15031
    - name: https-tracing
      nodePort: 30387
      port: 15032
      protocol: TCP
      targetPort: 15032
    - name: tls
      nodePort: 31179
      port: 15443
      protocol: TCP
      targetPort: 15443
    selector:
      app: istio-ingressgateway
      istio: ingressgateway
      release: istio
    sessionAffinity: None
    type: NodePort
  status:
    loadBalancer:
      ingress:
      - ip: 34.70.48.135
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"pilot","chart":"pilot","heritage":"Tiller","istio":"pilot","k8s-app":"istio","kubernetes.io/cluster-service":"true","release":"istio"},"name":"istio-pilot","namespace":"istio-system"},"spec":{"ports":[{"name":"grpc-xds","port":15010},{"name":"https-xds","port":15011},{"name":"http-legacy-discovery","port":8080},{"name":"http-monitoring","port":15014}],"selector":{"istio":"pilot"}}}
    creationTimestamp: "2019-10-03T19:31:47Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: pilot
      chart: pilot
      heritage: Tiller
      istio: pilot
      k8s-app: istio
      kubernetes.io/cluster-service: "true"
      release: istio
    name: istio-pilot
    namespace: istio-system
    resourceVersion: "988"
    selfLink: /api/v1/namespaces/istio-system/services/istio-pilot
    uid: 70677071-e614-11e9-a5da-42010a800258
  spec:
    clusterIP: 10.70.11.133
    ports:
    - name: grpc-xds
      port: 15010
      protocol: TCP
      targetPort: 15010
    - name: https-xds
      port: 15011
      protocol: TCP
      targetPort: 15011
    - name: http-legacy-discovery
      port: 8080
      protocol: TCP
      targetPort: 8080
    - name: http-monitoring
      port: 15014
      protocol: TCP
      targetPort: 15014
    selector:
      istio: pilot
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{"networking.istio.io/exportTo":"*"},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"mixer","chart":"mixer","heritage":"Tiller","istio":"mixer","k8s-app":"istio","kubernetes.io/cluster-service":"true","release":"istio"},"name":"istio-policy","namespace":"istio-system"},"spec":{"ports":[{"name":"grpc-mixer","port":9091},{"name":"grpc-mixer-mtls","port":15004},{"name":"http-monitoring","port":15014}],"selector":{"istio":"mixer","istio-mixer-type":"policy"}}}
      networking.istio.io/exportTo: '*'
    creationTimestamp: "2019-10-03T19:31:47Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: mixer
      chart: mixer
      heritage: Tiller
      istio: mixer
      k8s-app: istio
      kubernetes.io/cluster-service: "true"
      release: istio
    name: istio-policy
    namespace: istio-system
    resourceVersion: "982"
    selfLink: /api/v1/namespaces/istio-system/services/istio-policy
    uid: 705ae324-e614-11e9-a5da-42010a800258
  spec:
    clusterIP: 10.70.4.24
    ports:
    - name: grpc-mixer
      port: 9091
      protocol: TCP
      targetPort: 9091
    - name: grpc-mixer-mtls
      port: 15004
      protocol: TCP
      targetPort: 15004
    - name: http-monitoring
      port: 15014
      protocol: TCP
      targetPort: 15014
    selector:
      istio: mixer
      istio-mixer-type: policy
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"sidecarInjectorWebhook","chart":"sidecarInjectorWebhook","heritage":"Tiller","istio":"sidecar-injector","k8s-app":"istio","kubernetes.io/cluster-service":"true","release":"istio"},"name":"istio-sidecar-injector","namespace":"istio-system"},"spec":{"ports":[{"port":443}],"selector":{"istio":"sidecar-injector"}}}
    creationTimestamp: "2019-10-03T19:31:47Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: sidecarInjectorWebhook
      chart: sidecarInjectorWebhook
      heritage: Tiller
      istio: sidecar-injector
      k8s-app: istio
      kubernetes.io/cluster-service: "true"
      release: istio
    name: istio-sidecar-injector
    namespace: istio-system
    resourceVersion: "994"
    selfLink: /api/v1/namespaces/istio-system/services/istio-sidecar-injector
    uid: 7070590c-e614-11e9-a5da-42010a800258
  spec:
    clusterIP: 10.70.1.121
    ports:
    - port: 443
      protocol: TCP
      targetPort: 443
    selector:
      istio: sidecar-injector
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{"networking.istio.io/exportTo":"*"},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"mixer","chart":"mixer","heritage":"Tiller","istio":"mixer","k8s-app":"istio","kubernetes.io/cluster-service":"true","release":"istio"},"name":"istio-telemetry","namespace":"istio-system"},"spec":{"ports":[{"name":"grpc-mixer","port":9091},{"name":"grpc-mixer-mtls","port":15004},{"name":"http-monitoring","port":15014},{"name":"prometheus","port":42422}],"selector":{"istio":"mixer","istio-mixer-type":"telemetry"},"sessionAffinity":"ClientIP"}}
      networking.istio.io/exportTo: '*'
    creationTimestamp: "2019-10-03T19:31:47Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: mixer
      chart: mixer
      heritage: Tiller
      istio: mixer
      k8s-app: istio
      kubernetes.io/cluster-service: "true"
      release: istio
    name: istio-telemetry
    namespace: istio-system
    resourceVersion: "985"
    selfLink: /api/v1/namespaces/istio-system/services/istio-telemetry
    uid: 705ed15d-e614-11e9-a5da-42010a800258
  spec:
    clusterIP: 10.70.9.112
    ports:
    - name: grpc-mixer
      port: 9091
      protocol: TCP
      targetPort: 9091
    - name: grpc-mixer-mtls
      port: 15004
      protocol: TCP
      targetPort: 15004
    - name: http-monitoring
      port: 15014
      protocol: TCP
      targetPort: 15014
    - name: prometheus
      port: 42422
      protocol: TCP
      targetPort: 42422
    selector:
      istio: mixer
      istio-mixer-type: telemetry
    sessionAffinity: ClientIP
    sessionAffinityConfig:
      clientIP:
        timeoutSeconds: 10800
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{"prometheus.io/scrape":"true"},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","k8s-app":"istio","kubernetes.io/cluster-service":"true","name":"promsd"},"name":"promsd","namespace":"istio-system"},"spec":{"ports":[{"name":"http-prometheus","port":9090,"protocol":"TCP"}],"selector":{"app":"promsd"}}}
      prometheus.io/scrape: "true"
    creationTimestamp: "2019-10-03T19:31:47Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      k8s-app: istio
      kubernetes.io/cluster-service: "true"
      name: promsd
    name: promsd
    namespace: istio-system
    resourceVersion: "999"
    selfLink: /api/v1/namespaces/istio-system/services/promsd
    uid: 70af7963-e614-11e9-a5da-42010a800258
  spec:
    clusterIP: 10.70.6.249
    ports:
    - name: http-prometheus
      port: 9090
      protocol: TCP
      targetPort: 9090
    selector:
      app: promsd
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"extensions/v1beta1","kind":"Deployment","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"security","chart":"security","heritage":"Tiller","istio":"citadel","k8s-app":"istio","release":"istio"},"name":"istio-citadel","namespace":"istio-system"},"spec":{"strategy":{"rollingUpdate":{"maxSurge":1,"maxUnavailable":0}},"template":{"metadata":{"annotations":{"seccomp.security.alpha.kubernetes.io/pod":"docker/default","sidecar.istio.io/inject":"false"},"labels":{"app":"security","chart":"security","heritage":"Tiller","istio":"citadel","release":"istio"}},"spec":{"affinity":{"nodeAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["ppc64le"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["s390x"]}]},"weight":2}],"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64","ppc64le","s390x"]}]}]}}},"containers":[{"args":["--append-dns-names=true","--grpc-port=8060","--grpc-hostname=citadel","--citadel-storage-namespace=istio-system","--custom-dns-names=istio-pilot-service-account.istio-system:istio-pilot.istio-system","--monitoring-port=15014","--self-signed-ca=true"],"image":"gke.gcr.io/istio/citadel:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","livenessProbe":{"httpGet":{"path":"/version","port":15014},"initialDelaySeconds":5,"periodSeconds":5},"name":"citadel"}],"serviceAccountName":"istio-citadel-service-account"}}}}
    creationTimestamp: "2019-10-03T19:30:58Z"
    generation: 1
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: security
      chart: security
      heritage: Tiller
      istio: citadel
      k8s-app: istio
      release: istio
    name: istio-citadel
    namespace: istio-system
    resourceVersion: "2819"
    selfLink: /apis/apps/v1/namespaces/istio-system/deployments/istio-citadel
    uid: 536cd3c7-e614-11e9-a5da-42010a800258
  spec:
    progressDeadlineSeconds: 2147483647
    replicas: 1
    revisionHistoryLimit: 2147483647
    selector:
      matchLabels:
        app: security
        chart: security
        heritage: Tiller
        istio: citadel
        release: istio
    strategy:
      rollingUpdate:
        maxSurge: 1
        maxUnavailable: 0
      type: RollingUpdate
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: security
          chart: security
          heritage: Tiller
          istio: citadel
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - --append-dns-names=true
          - --grpc-port=8060
          - --grpc-hostname=citadel
          - --citadel-storage-namespace=istio-system
          - --custom-dns-names=istio-pilot-service-account.istio-system:istio-pilot.istio-system
          - --monitoring-port=15014
          - --self-signed-ca=true
          image: gke.gcr.io/istio/citadel:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /version
              port: 15014
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          name: citadel
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-citadel-service-account
        serviceAccountName: istio-citadel-service-account
        terminationGracePeriodSeconds: 30
  status:
    conditions:
    - lastTransitionTime: "2019-10-03T19:30:58Z"
      lastUpdateTime: "2019-10-03T19:30:58Z"
      message: Deployment does not have minimum availability.
      reason: MinimumReplicasUnavailable
      status: "False"
      type: Available
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"extensions/v1beta1","kind":"Deployment","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"galley","chart":"galley","heritage":"Tiller","istio":"galley","k8s-app":"istio","release":"istio"},"name":"istio-galley","namespace":"istio-system"},"spec":{"strategy":{"rollingUpdate":{"maxSurge":1,"maxUnavailable":0}},"template":{"metadata":{"annotations":{"seccomp.security.alpha.kubernetes.io/pod":"docker/default","sidecar.istio.io/inject":"false"},"labels":{"app":"galley","chart":"galley","heritage":"Tiller","istio":"galley","release":"istio"}},"spec":{"affinity":{"nodeAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["ppc64le"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["s390x"]}]},"weight":2}],"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64","ppc64le","s390x"]}]}]}}},"containers":[{"command":["/usr/local/bin/galley","server","--meshConfigFile=/etc/mesh-config/mesh","--livenessProbeInterval=1s","--livenessProbePath=/healthliveness","--readinessProbePath=/healthready","--readinessProbeInterval=1s","--deployment-namespace=istio-system","--insecure=true","--validation-webhook-config-file","/etc/config/validatingwebhookconfiguration.yaml","--monitoringPort=15014","--log_output_level=default:info"],"image":"gke.gcr.io/istio/galley:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","livenessProbe":{"exec":{"command":["/usr/local/bin/galley","probe","--probe-path=/healthliveness","--interval=10s"]},"initialDelaySeconds":5,"periodSeconds":5},"name":"galley","ports":[{"containerPort":443},{"containerPort":15014},{"containerPort":9901}],"readinessProbe":{"exec":{"command":["/usr/local/bin/galley","probe","--probe-path=/healthready","--interval=10s"]},"initialDelaySeconds":5,"periodSeconds":5},"volumeMounts":[{"mountPath":"/etc/certs","name":"certs","readOnly":true},{"mountPath":"/etc/config","name":"config","readOnly":true},{"mountPath":"/etc/mesh-config","name":"mesh-config","readOnly":true}]}],"serviceAccountName":"istio-galley-service-account","volumes":[{"name":"certs","secret":{"secretName":"istio.istio-galley-service-account"}},{"configMap":{"name":"istio-galley-configuration"},"name":"config"},{"configMap":{"name":"istio"},"name":"mesh-config"}]}}}}
    creationTimestamp: "2019-10-03T19:30:57Z"
    generation: 1
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: galley
      chart: galley
      heritage: Tiller
      istio: galley
      k8s-app: istio
      release: istio
    name: istio-galley
    namespace: istio-system
    resourceVersion: "2715"
    selfLink: /apis/apps/v1/namespaces/istio-system/deployments/istio-galley
    uid: 52a2260c-e614-11e9-a5da-42010a800258
  spec:
    progressDeadlineSeconds: 2147483647
    replicas: 1
    revisionHistoryLimit: 2147483647
    selector:
      matchLabels:
        app: galley
        chart: galley
        heritage: Tiller
        istio: galley
        release: istio
    strategy:
      rollingUpdate:
        maxSurge: 1
        maxUnavailable: 0
      type: RollingUpdate
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: galley
          chart: galley
          heritage: Tiller
          istio: galley
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - command:
          - /usr/local/bin/galley
          - server
          - --meshConfigFile=/etc/mesh-config/mesh
          - --livenessProbeInterval=1s
          - --livenessProbePath=/healthliveness
          - --readinessProbePath=/healthready
          - --readinessProbeInterval=1s
          - --deployment-namespace=istio-system
          - --insecure=true
          - --validation-webhook-config-file
          - /etc/config/validatingwebhookconfiguration.yaml
          - --monitoringPort=15014
          - --log_output_level=default:info
          image: gke.gcr.io/istio/galley:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            exec:
              command:
              - /usr/local/bin/galley
              - probe
              - --probe-path=/healthliveness
              - --interval=10s
            failureThreshold: 3
            initialDelaySeconds: 5
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          name: galley
          ports:
          - containerPort: 443
            protocol: TCP
          - containerPort: 15014
            protocol: TCP
          - containerPort: 9901
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /usr/local/bin/galley
              - probe
              - --probe-path=/healthready
              - --interval=10s
            failureThreshold: 3
            initialDelaySeconds: 5
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: certs
            readOnly: true
          - mountPath: /etc/config
            name: config
            readOnly: true
          - mountPath: /etc/mesh-config
            name: mesh-config
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-galley-service-account
        serviceAccountName: istio-galley-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: certs
          secret:
            defaultMode: 420
            secretName: istio.istio-galley-service-account
        - configMap:
            defaultMode: 420
            name: istio-galley-configuration
          name: config
        - configMap:
            defaultMode: 420
            name: istio
          name: mesh-config
  status:
    conditions:
    - lastTransitionTime: "2019-10-03T19:30:57Z"
      lastUpdateTime: "2019-10-03T19:30:57Z"
      message: Deployment does not have minimum availability.
      reason: MinimumReplicasUnavailable
      status: "False"
      type: Available
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"extensions/v1beta1","kind":"Deployment","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"istio-ingressgateway","chart":"gateways","heritage":"Tiller","istio":"ingressgateway","k8s-app":"istio","release":"istio"},"name":"istio-ingressgateway","namespace":"istio-system"},"spec":{"template":{"metadata":{"annotations":{"seccomp.security.alpha.kubernetes.io/pod":"docker/default","sidecar.istio.io/inject":"false"},"labels":{"app":"istio-ingressgateway","chart":"gateways","heritage":"Tiller","istio":"ingressgateway","release":"istio"}},"spec":{"affinity":{"nodeAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["ppc64le"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["s390x"]}]},"weight":2}],"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64","ppc64le","s390x"]}]}]}}},"containers":[{"args":["proxy","router","--domain","$(POD_NAMESPACE).svc.cluster.local","--log_output_level=default:info","--drainDuration","45s","--parentShutdownDuration","1m0s","--connectTimeout","10s","--serviceCluster","istio-ingressgateway","--zipkinAddress","zipkin:9411","--proxyAdminPort","15000","--statusPort","15020","--controlPlaneAuthPolicy","NONE","--discoveryAddress","istio-pilot:15010"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_META_POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"ISTIO_META_CONFIG_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"ISTIO_META_ROUTER_MODE","value":"sni-dnat"}],"image":"gke.gcr.io/istio/proxyv2:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","name":"istio-proxy","ports":[{"containerPort":15020},{"containerPort":80},{"containerPort":443},{"containerPort":31400},{"containerPort":15029},{"containerPort":15030},{"containerPort":15031},{"containerPort":15032},{"containerPort":15443},{"containerPort":15090,"name":"http-envoy-prom","protocol":"TCP"}],"readinessProbe":{"failureThreshold":30,"httpGet":{"path":"/healthz/ready","port":15020,"scheme":"HTTP"},"initialDelaySeconds":1,"periodSeconds":2,"successThreshold":1,"timeoutSeconds":1},"volumeMounts":[{"mountPath":"/etc/certs","name":"istio-certs","readOnly":true},{"mountPath":"/etc/istio/ingressgateway-certs","name":"ingressgateway-certs","readOnly":true},{"mountPath":"/etc/istio/ingressgateway-ca-certs","name":"ingressgateway-ca-certs","readOnly":true}]}],"serviceAccountName":"istio-ingressgateway-service-account","volumes":[{"name":"istio-certs","secret":{"optional":true,"secretName":"istio.istio-ingressgateway-service-account"}},{"name":"ingressgateway-certs","secret":{"optional":true,"secretName":"istio-ingressgateway-certs"}},{"name":"ingressgateway-ca-certs","secret":{"optional":true,"secretName":"istio-ingressgateway-ca-certs"}}]}}}}
    creationTimestamp: "2019-10-03T19:30:57Z"
    generation: 1
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: istio-ingressgateway
      chart: gateways
      heritage: Tiller
      istio: ingressgateway
      k8s-app: istio
      release: istio
    name: istio-ingressgateway
    namespace: istio-system
    resourceVersion: "2826"
    selfLink: /apis/apps/v1/namespaces/istio-system/deployments/istio-ingressgateway
    uid: 52b74354-e614-11e9-a5da-42010a800258
  spec:
    progressDeadlineSeconds: 2147483647
    replicas: 1
    revisionHistoryLimit: 2147483647
    selector:
      matchLabels:
        app: istio-ingressgateway
        chart: gateways
        heritage: Tiller
        istio: ingressgateway
        release: istio
    strategy:
      rollingUpdate:
        maxSurge: 1
        maxUnavailable: 1
      type: RollingUpdate
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: istio-ingressgateway
          chart: gateways
          heritage: Tiller
          istio: ingressgateway
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - proxy
          - router
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --log_output_level=default:info
          - --drainDuration
          - 45s
          - --parentShutdownDuration
          - 1m0s
          - --connectTimeout
          - 10s
          - --serviceCluster
          - istio-ingressgateway
          - --zipkinAddress
          - zipkin:9411
          - --proxyAdminPort
          - "15000"
          - --statusPort
          - "15020"
          - --controlPlaneAuthPolicy
          - NONE
          - --discoveryAddress
          - istio-pilot:15010
          env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: HOST_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.hostIP
          - name: ISTIO_META_POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: ISTIO_META_CONFIG_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: ISTIO_META_ROUTER_MODE
            value: sni-dnat
          image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: istio-proxy
          ports:
          - containerPort: 15020
            protocol: TCP
          - containerPort: 80
            protocol: TCP
          - containerPort: 443
            protocol: TCP
          - containerPort: 31400
            protocol: TCP
          - containerPort: 15029
            protocol: TCP
          - containerPort: 15030
            protocol: TCP
          - containerPort: 15031
            protocol: TCP
          - containerPort: 15032
            protocol: TCP
          - containerPort: 15443
            protocol: TCP
          - containerPort: 15090
            name: http-envoy-prom
            protocol: TCP
          readinessProbe:
            failureThreshold: 30
            httpGet:
              path: /healthz/ready
              port: 15020
              scheme: HTTP
            initialDelaySeconds: 1
            periodSeconds: 2
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
          - mountPath: /etc/istio/ingressgateway-certs
            name: ingressgateway-certs
            readOnly: true
          - mountPath: /etc/istio/ingressgateway-ca-certs
            name: ingressgateway-ca-certs
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-ingressgateway-service-account
        serviceAccountName: istio-ingressgateway-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: istio-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio.istio-ingressgateway-service-account
        - name: ingressgateway-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio-ingressgateway-certs
        - name: ingressgateway-ca-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio-ingressgateway-ca-certs
  status:
    conditions:
    - lastTransitionTime: "2019-10-03T19:30:57Z"
      lastUpdateTime: "2019-10-03T19:30:57Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      checksum/config-volume: f8da08b6b8c170dde721efd680270b2901e750d4aa186ebb6c22bef5b78a43f9
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"extensions/v1beta1","kind":"Deployment","metadata":{"annotations":{"checksum/config-volume":"f8da08b6b8c170dde721efd680270b2901e750d4aa186ebb6c22bef5b78a43f9"},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"pilot","chart":"pilot","heritage":"Tiller","istio":"pilot","k8s-app":"istio","release":"istio"},"name":"istio-pilot","namespace":"istio-system"},"spec":{"selector":{"matchLabels":{"istio":"pilot"}},"strategy":{"rollingUpdate":{"maxSurge":1,"maxUnavailable":0}},"template":{"metadata":{"annotations":{"seccomp.security.alpha.kubernetes.io/pod":"docker/default","sidecar.istio.io/inject":"false"},"labels":{"app":"pilot","chart":"pilot","heritage":"Tiller","istio":"pilot","release":"istio"}},"spec":{"affinity":{"nodeAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["ppc64le"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["s390x"]}]},"weight":2}],"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64","ppc64le","s390x"]}]}]}}},"containers":[{"args":["discovery","--monitoringAddr=:15014","--log_output_level=default:info","--domain","cluster.local","--secureGrpcAddr","","--keepaliveMaxServerConnectionAge","30m"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"GODEBUG","value":"gctrace=1"},{"name":"PILOT_PUSH_THROTTLE","value":"100"},{"name":"PILOT_TRACE_SAMPLING","value":"1"},{"name":"PILOT_DISABLE_XDS_MARSHALING_TO_ANY","value":"1"}],"image":"gke.gcr.io/istio/pilot:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","name":"discovery","ports":[{"containerPort":8080},{"containerPort":15010}],"readinessProbe":{"httpGet":{"path":"/ready","port":8080},"initialDelaySeconds":5,"periodSeconds":30,"timeoutSeconds":5},"volumeMounts":[{"mountPath":"/etc/istio/config","name":"config-volume"},{"mountPath":"/etc/certs","name":"istio-certs","readOnly":true}]},{"args":["proxy","--domain","$(POD_NAMESPACE).svc.cluster.local","--serviceCluster","istio-pilot","--templateFile","/etc/istio/proxy/envoy_pilot.yaml.tmpl","--controlPlaneAuthPolicy","NONE"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"image":"gke.gcr.io/istio/proxyv2:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","name":"istio-proxy","ports":[{"containerPort":15003},{"containerPort":15005},{"containerPort":15007},{"containerPort":15011}],"volumeMounts":[{"mountPath":"/etc/certs","name":"istio-certs","readOnly":true}]}],"serviceAccountName":"istio-pilot-service-account","volumes":[{"configMap":{"name":"istio"},"name":"config-volume"},{"name":"istio-certs","secret":{"optional":true,"secretName":"istio.istio-pilot-service-account"}}]}}}}
    creationTimestamp: "2019-10-03T19:30:58Z"
    generation: 1
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: pilot
      chart: pilot
      heritage: Tiller
      istio: pilot
      k8s-app: istio
      release: istio
    name: istio-pilot
    namespace: istio-system
    resourceVersion: "2700"
    selfLink: /apis/apps/v1/namespaces/istio-system/deployments/istio-pilot
    uid: 53390e80-e614-11e9-a5da-42010a800258
  spec:
    progressDeadlineSeconds: 2147483647
    replicas: 1
    revisionHistoryLimit: 2147483647
    selector:
      matchLabels:
        istio: pilot
    strategy:
      rollingUpdate:
        maxSurge: 1
        maxUnavailable: 0
      type: RollingUpdate
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: pilot
          chart: pilot
          heritage: Tiller
          istio: pilot
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - discovery
          - --monitoringAddr=:15014
          - --log_output_level=default:info
          - --domain
          - cluster.local
          - --secureGrpcAddr
          - ""
          - --keepaliveMaxServerConnectionAge
          - 30m
          env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: GODEBUG
            value: gctrace=1
          - name: PILOT_PUSH_THROTTLE
            value: "100"
          - name: PILOT_TRACE_SAMPLING
            value: "1"
          - name: PILOT_DISABLE_XDS_MARSHALING_TO_ANY
            value: "1"
          image: gke.gcr.io/istio/pilot:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: discovery
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 15010
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /ready
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/istio/config
            name: config-volume
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
        - args:
          - proxy
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --serviceCluster
          - istio-pilot
          - --templateFile
          - /etc/istio/proxy/envoy_pilot.yaml.tmpl
          - --controlPlaneAuthPolicy
          - NONE
          env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: istio-proxy
          ports:
          - containerPort: 15003
            protocol: TCP
          - containerPort: 15005
            protocol: TCP
          - containerPort: 15007
            protocol: TCP
          - containerPort: 15011
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-pilot-service-account
        serviceAccountName: istio-pilot-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: istio
          name: config-volume
        - name: istio-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio.istio-pilot-service-account
  status:
    conditions:
    - lastTransitionTime: "2019-10-03T19:30:58Z"
      lastUpdateTime: "2019-10-03T19:30:58Z"
      message: Deployment does not have minimum availability.
      reason: MinimumReplicasUnavailable
      status: "False"
      type: Available
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"extensions/v1beta1","kind":"Deployment","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"istio-mixer","chart":"mixer","heritage":"Tiller","istio":"mixer","k8s-app":"istio","release":"istio"},"name":"istio-policy","namespace":"istio-system"},"spec":{"selector":{"matchLabels":{"istio":"mixer","istio-mixer-type":"policy"}},"strategy":{"rollingUpdate":{"maxSurge":1,"maxUnavailable":0}},"template":{"metadata":{"annotations":{"seccomp.security.alpha.kubernetes.io/pod":"docker/default","sidecar.istio.io/inject":"false"},"labels":{"app":"policy","chart":"mixer","heritage":"Tiller","istio":"mixer","istio-mixer-type":"policy","release":"istio"}},"spec":{"affinity":{"nodeAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["ppc64le"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["s390x"]}]},"weight":2}],"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64","ppc64le","s390x"]}]}]}}},"containers":[{"args":["--monitoringPort=15014","--address","unix:///sock/mixer.socket","--log_output_level=default:info","--configStoreURL=mcp://istio-galley.istio-system.svc:9901","--configDefaultNamespace=istio-system","--useAdapterCRDs=true","--trace_zipkin_url=http://zipkin:9411/api/v1/spans"],"env":[{"name":"GODEBUG","value":"gctrace=1"},{"name":"GOMAXPROCS","value":"6"}],"image":"gke.gcr.io/istio/mixer:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","livenessProbe":{"httpGet":{"path":"/version","port":15014},"initialDelaySeconds":5,"periodSeconds":5},"name":"mixer","ports":[{"containerPort":15014},{"containerPort":42422}],"volumeMounts":[{"mountPath":"/etc/certs","name":"istio-certs","readOnly":true},{"mountPath":"/sock","name":"uds-socket"}]},{"args":["proxy","--domain","$(POD_NAMESPACE).svc.cluster.local","--serviceCluster","istio-policy","--templateFile","/etc/istio/proxy/envoy_policy.yaml.tmpl","--controlPlaneAuthPolicy","NONE"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"image":"gke.gcr.io/istio/proxyv2:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","name":"istio-proxy","ports":[{"containerPort":9091},{"containerPort":15004},{"containerPort":15090,"name":"http-envoy-prom","protocol":"TCP"}],"volumeMounts":[{"mountPath":"/etc/certs","name":"istio-certs","readOnly":true},{"mountPath":"/sock","name":"uds-socket"},{"mountPath":"/var/run/secrets/istio.io/policy/adapter","name":"policy-adapter-secret","readOnly":true}]}],"serviceAccountName":"istio-mixer-service-account","volumes":[{"name":"istio-certs","secret":{"optional":true,"secretName":"istio.istio-mixer-service-account"}},{"emptyDir":{},"name":"uds-socket"},{"name":"policy-adapter-secret","secret":{"optional":true,"secretName":"policy-adapter-secret"}}]}}}}
    creationTimestamp: "2019-10-03T19:30:57Z"
    generation: 1
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: istio-mixer
      chart: mixer
      heritage: Tiller
      istio: mixer
      k8s-app: istio
      release: istio
    name: istio-policy
    namespace: istio-system
    resourceVersion: "2714"
    selfLink: /apis/apps/v1/namespaces/istio-system/deployments/istio-policy
    uid: 52e697b3-e614-11e9-a5da-42010a800258
  spec:
    progressDeadlineSeconds: 2147483647
    replicas: 1
    revisionHistoryLimit: 2147483647
    selector:
      matchLabels:
        istio: mixer
        istio-mixer-type: policy
    strategy:
      rollingUpdate:
        maxSurge: 1
        maxUnavailable: 0
      type: RollingUpdate
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: policy
          chart: mixer
          heritage: Tiller
          istio: mixer
          istio-mixer-type: policy
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - --monitoringPort=15014
          - --address
          - unix:///sock/mixer.socket
          - --log_output_level=default:info
          - --configStoreURL=mcp://istio-galley.istio-system.svc:9901
          - --configDefaultNamespace=istio-system
          - --useAdapterCRDs=true
          - --trace_zipkin_url=http://zipkin:9411/api/v1/spans
          env:
          - name: GODEBUG
            value: gctrace=1
          - name: GOMAXPROCS
            value: "6"
          image: gke.gcr.io/istio/mixer:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /version
              port: 15014
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          name: mixer
          ports:
          - containerPort: 15014
            protocol: TCP
          - containerPort: 42422
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
          - mountPath: /sock
            name: uds-socket
        - args:
          - proxy
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --serviceCluster
          - istio-policy
          - --templateFile
          - /etc/istio/proxy/envoy_policy.yaml.tmpl
          - --controlPlaneAuthPolicy
          - NONE
          env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: istio-proxy
          ports:
          - containerPort: 9091
            protocol: TCP
          - containerPort: 15004
            protocol: TCP
          - containerPort: 15090
            name: http-envoy-prom
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
          - mountPath: /sock
            name: uds-socket
          - mountPath: /var/run/secrets/istio.io/policy/adapter
            name: policy-adapter-secret
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-mixer-service-account
        serviceAccountName: istio-mixer-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: istio-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio.istio-mixer-service-account
        - emptyDir: {}
          name: uds-socket
        - name: policy-adapter-secret
          secret:
            defaultMode: 420
            optional: true
            secretName: policy-adapter-secret
  status:
    conditions:
    - lastTransitionTime: "2019-10-03T19:30:57Z"
      lastUpdateTime: "2019-10-03T19:30:57Z"
      message: Deployment does not have minimum availability.
      reason: MinimumReplicasUnavailable
      status: "False"
      type: Available
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"extensions/v1beta1","kind":"Deployment","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"sidecarInjectorWebhook","chart":"sidecarInjectorWebhook","heritage":"Tiller","istio":"sidecar-injector","k8s-app":"istio","release":"istio"},"name":"istio-sidecar-injector","namespace":"istio-system"},"spec":{"strategy":{"rollingUpdate":{"maxSurge":1,"maxUnavailable":0}},"template":{"metadata":{"annotations":{"seccomp.security.alpha.kubernetes.io/pod":"docker/default","sidecar.istio.io/inject":"false"},"labels":{"app":"sidecarInjectorWebhook","chart":"sidecarInjectorWebhook","heritage":"Tiller","istio":"sidecar-injector","release":"istio"}},"spec":{"affinity":{"nodeAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["ppc64le"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["s390x"]}]},"weight":2}],"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64","ppc64le","s390x"]}]}]}}},"containers":[{"args":["--caCertFile=/etc/istio/certs/root-cert.pem","--tlsCertFile=/etc/istio/certs/cert-chain.pem","--tlsKeyFile=/etc/istio/certs/key.pem","--injectConfig=/etc/istio/inject/config","--meshConfig=/etc/istio/config/mesh","--healthCheckInterval=2s","--healthCheckFile=/health"],"image":"gke.gcr.io/istio/sidecar_injector:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","livenessProbe":{"exec":{"command":["/usr/local/bin/sidecar-injector","probe","--probe-path=/health","--interval=4s"]},"initialDelaySeconds":4,"periodSeconds":4},"name":"sidecar-injector-webhook","readinessProbe":{"exec":{"command":["/usr/local/bin/sidecar-injector","probe","--probe-path=/health","--interval=4s"]},"initialDelaySeconds":4,"periodSeconds":4},"volumeMounts":[{"mountPath":"/etc/istio/config","name":"config-volume","readOnly":true},{"mountPath":"/etc/istio/certs","name":"certs","readOnly":true},{"mountPath":"/etc/istio/inject","name":"inject-config","readOnly":true}]}],"serviceAccountName":"istio-sidecar-injector-service-account","volumes":[{"configMap":{"name":"istio"},"name":"config-volume"},{"name":"certs","secret":{"secretName":"istio.istio-sidecar-injector-service-account"}},{"configMap":{"items":[{"key":"config","path":"config"}],"name":"istio-sidecar-injector"},"name":"inject-config"}]}}}}
    creationTimestamp: "2019-10-03T19:30:58Z"
    generation: 1
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: sidecarInjectorWebhook
      chart: sidecarInjectorWebhook
      heritage: Tiller
      istio: sidecar-injector
      k8s-app: istio
      release: istio
    name: istio-sidecar-injector
    namespace: istio-system
    resourceVersion: "2701"
    selfLink: /apis/apps/v1/namespaces/istio-system/deployments/istio-sidecar-injector
    uid: 53b09406-e614-11e9-a5da-42010a800258
  spec:
    progressDeadlineSeconds: 2147483647
    replicas: 1
    revisionHistoryLimit: 2147483647
    selector:
      matchLabels:
        app: sidecarInjectorWebhook
        chart: sidecarInjectorWebhook
        heritage: Tiller
        istio: sidecar-injector
        release: istio
    strategy:
      rollingUpdate:
        maxSurge: 1
        maxUnavailable: 0
      type: RollingUpdate
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: sidecarInjectorWebhook
          chart: sidecarInjectorWebhook
          heritage: Tiller
          istio: sidecar-injector
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - --caCertFile=/etc/istio/certs/root-cert.pem
          - --tlsCertFile=/etc/istio/certs/cert-chain.pem
          - --tlsKeyFile=/etc/istio/certs/key.pem
          - --injectConfig=/etc/istio/inject/config
          - --meshConfig=/etc/istio/config/mesh
          - --healthCheckInterval=2s
          - --healthCheckFile=/health
          image: gke.gcr.io/istio/sidecar_injector:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            exec:
              command:
              - /usr/local/bin/sidecar-injector
              - probe
              - --probe-path=/health
              - --interval=4s
            failureThreshold: 3
            initialDelaySeconds: 4
            periodSeconds: 4
            successThreshold: 1
            timeoutSeconds: 1
          name: sidecar-injector-webhook
          readinessProbe:
            exec:
              command:
              - /usr/local/bin/sidecar-injector
              - probe
              - --probe-path=/health
              - --interval=4s
            failureThreshold: 3
            initialDelaySeconds: 4
            periodSeconds: 4
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/istio/config
            name: config-volume
            readOnly: true
          - mountPath: /etc/istio/certs
            name: certs
            readOnly: true
          - mountPath: /etc/istio/inject
            name: inject-config
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-sidecar-injector-service-account
        serviceAccountName: istio-sidecar-injector-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: istio
          name: config-volume
        - name: certs
          secret:
            defaultMode: 420
            secretName: istio.istio-sidecar-injector-service-account
        - configMap:
            defaultMode: 420
            items:
            - key: config
              path: config
            name: istio-sidecar-injector
          name: inject-config
  status:
    conditions:
    - lastTransitionTime: "2019-10-03T19:30:58Z"
      lastUpdateTime: "2019-10-03T19:30:58Z"
      message: Deployment does not have minimum availability.
      reason: MinimumReplicasUnavailable
      status: "False"
      type: Available
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"extensions/v1beta1","kind":"Deployment","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"istio-mixer","chart":"mixer","heritage":"Tiller","istio":"mixer","k8s-app":"istio","release":"istio"},"name":"istio-telemetry","namespace":"istio-system"},"spec":{"selector":{"matchLabels":{"istio":"mixer","istio-mixer-type":"telemetry"}},"strategy":{"rollingUpdate":{"maxSurge":1,"maxUnavailable":0}},"template":{"metadata":{"annotations":{"seccomp.security.alpha.kubernetes.io/pod":"docker/default","sidecar.istio.io/inject":"false"},"labels":{"app":"telemetry","chart":"mixer","heritage":"Tiller","istio":"mixer","istio-mixer-type":"telemetry","release":"istio"}},"spec":{"affinity":{"nodeAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["ppc64le"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["s390x"]}]},"weight":2}],"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64","ppc64le","s390x"]}]}]}}},"containers":[{"args":["--monitoringPort=15014","--address","unix:///sock/mixer.socket","--log_output_level=default:info","--configStoreURL=mcp://istio-galley.istio-system.svc:9901","--configDefaultNamespace=istio-system","--useAdapterCRDs=true","--trace_zipkin_url=http://zipkin:9411/api/v1/spans","--averageLatencyThreshold","5000ms","--loadsheddingMode","enforce"],"env":[{"name":"GODEBUG","value":"gctrace=1"},{"name":"GOMAXPROCS","value":"6"}],"image":"gke.gcr.io/istio/mixer:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","livenessProbe":{"httpGet":{"path":"/version","port":15014},"initialDelaySeconds":5,"periodSeconds":5},"name":"mixer","ports":[{"containerPort":15014},{"containerPort":42422}],"volumeMounts":[{"mountPath":"/etc/certs","name":"istio-certs","readOnly":true},{"mountPath":"/var/run/secrets/istio.io/telemetry/adapter","name":"telemetry-adapter-secret","readOnly":true},{"mountPath":"/sock","name":"uds-socket"}]},{"args":["proxy","--domain","$(POD_NAMESPACE).svc.cluster.local","--serviceCluster","istio-telemetry","--templateFile","/etc/istio/proxy/envoy_telemetry.yaml.tmpl","--controlPlaneAuthPolicy","NONE"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"image":"gke.gcr.io/istio/proxyv2:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","name":"istio-proxy","ports":[{"containerPort":9091},{"containerPort":15004},{"containerPort":15090,"name":"http-envoy-prom","protocol":"TCP"}],"volumeMounts":[{"mountPath":"/etc/certs","name":"istio-certs","readOnly":true},{"mountPath":"/sock","name":"uds-socket"}]}],"serviceAccountName":"istio-mixer-service-account","volumes":[{"name":"istio-certs","secret":{"optional":true,"secretName":"istio.istio-mixer-service-account"}},{"emptyDir":{},"name":"uds-socket"},{"name":"telemetry-adapter-secret","secret":{"optional":true,"secretName":"telemetry-adapter-secret"}}]}}}}
    creationTimestamp: "2019-10-03T19:30:57Z"
    generation: 1
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: istio-mixer
      chart: mixer
      heritage: Tiller
      istio: mixer
      k8s-app: istio
      release: istio
    name: istio-telemetry
    namespace: istio-system
    resourceVersion: "2832"
    selfLink: /apis/apps/v1/namespaces/istio-system/deployments/istio-telemetry
    uid: 532228eb-e614-11e9-a5da-42010a800258
  spec:
    progressDeadlineSeconds: 2147483647
    replicas: 1
    revisionHistoryLimit: 2147483647
    selector:
      matchLabels:
        istio: mixer
        istio-mixer-type: telemetry
    strategy:
      rollingUpdate:
        maxSurge: 1
        maxUnavailable: 0
      type: RollingUpdate
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: telemetry
          chart: mixer
          heritage: Tiller
          istio: mixer
          istio-mixer-type: telemetry
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - --monitoringPort=15014
          - --address
          - unix:///sock/mixer.socket
          - --log_output_level=default:info
          - --configStoreURL=mcp://istio-galley.istio-system.svc:9901
          - --configDefaultNamespace=istio-system
          - --useAdapterCRDs=true
          - --trace_zipkin_url=http://zipkin:9411/api/v1/spans
          - --averageLatencyThreshold
          - 5000ms
          - --loadsheddingMode
          - enforce
          env:
          - name: GODEBUG
            value: gctrace=1
          - name: GOMAXPROCS
            value: "6"
          image: gke.gcr.io/istio/mixer:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /version
              port: 15014
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          name: mixer
          ports:
          - containerPort: 15014
            protocol: TCP
          - containerPort: 42422
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
          - mountPath: /var/run/secrets/istio.io/telemetry/adapter
            name: telemetry-adapter-secret
            readOnly: true
          - mountPath: /sock
            name: uds-socket
        - args:
          - proxy
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --serviceCluster
          - istio-telemetry
          - --templateFile
          - /etc/istio/proxy/envoy_telemetry.yaml.tmpl
          - --controlPlaneAuthPolicy
          - NONE
          env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: istio-proxy
          ports:
          - containerPort: 9091
            protocol: TCP
          - containerPort: 15004
            protocol: TCP
          - containerPort: 15090
            name: http-envoy-prom
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
          - mountPath: /sock
            name: uds-socket
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-mixer-service-account
        serviceAccountName: istio-mixer-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: istio-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio.istio-mixer-service-account
        - emptyDir: {}
          name: uds-socket
        - name: telemetry-adapter-secret
          secret:
            defaultMode: 420
            optional: true
            secretName: telemetry-adapter-secret
  status:
    conditions:
    - lastTransitionTime: "2019-10-03T19:30:58Z"
      lastUpdateTime: "2019-10-03T19:30:58Z"
      message: Deployment does not have minimum availability.
      reason: MinimumReplicasUnavailable
      status: "False"
      type: Available
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"extensions/v1beta1","kind":"Deployment","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"promsd","chart":"promsd-1.0.3","heritage":"Tiller","k8s-app":"istio","release":"istio"},"name":"promsd","namespace":"istio-system"},"spec":{"selector":{"matchLabels":{"app":"promsd"}},"template":{"metadata":{"annotations":{"scheduler.alpha.kubernetes.io/critical-pod":"","seccomp.security.alpha.kubernetes.io/pod":"docker/default","sidecar.istio.io/inject":"false"},"labels":{"app":"promsd"}},"spec":{"affinity":{"nodeAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["ppc64le"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["s390x"]}]},"weight":2}],"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64","ppc64le","s390x"]}]}]}}},"containers":[{"args":["--prometheus.wal-directory=/data/wal","--stackdriver.project-id=","--stackdriver.kubernetes.location=","--stackdriver.kubernetes.cluster-name=","--stackdriver.use-gke-resource","--stackdriver.metrics-prefix=container.googleapis.com/internal/addons/istio","--config-file=/etc/prometheus-sidecar/sidecar.yml","--filter=__name__=~\"^(pilot_xds_pushes|pilot_xds_push_timeouts|pilot_errors_xds|pilot_errors_internal|mixer_dropped_request_count|envoy_cx_errors|envoy_cx_timeouts|envoy_cx_count|envoy_rq_count|envoy_http_mixer_filter_total_report_calls)$\""],"env":[{"name":"DEBUG","value":"1"}],"image":"gcr.io/gke-release/istio/prometheus/stackdriver-prometheus-sidecar:0.1","imagePullPolicy":"Always","name":"sidecar","ports":[{"containerPort":9091,"name":"sidecar","protocol":"TCP"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/data","name":"data-volume"},{"mountPath":"/etc/prometheus-sidecar","name":"static-config-volume"}]},{"args":["--storage.tsdb.retention=6h","--storage.tsdb.path=/data","--storage.tsdb.min-block-duration=15m","--storage.tsdb.max-block-duration=4h","--config.file=/etc/prometheus/prometheus.yml"],"image":"gcr.io/gke-release/istio/prometheus/prometheus:v2.4.3","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/-/healthy","port":9090,"scheme":"HTTP"},"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"name":"promsd","ports":[{"containerPort":9090,"name":"http","protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/-/ready","port":9090,"scheme":"HTTP"},"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/etc/prometheus","name":"config-volume"},{"mountPath":"/etc/prometheus-rules","name":"rules-config-volume"},{"mountPath":"/etc/istio-certs","name":"istio-certs"},{"mountPath":"/data","name":"data-volume"}]}],"serviceAccountName":"promsd","volumes":[{"configMap":{"defaultMode":420,"name":"promsd"},"name":"config-volume"},{"configMap":{"defaultMode":420,"name":"promsd-rules"},"name":"rules-config-volume"},{"emptyDir":{},"name":"data-volume"},{"configMap":{"defaultMode":420,"name":"promsd-sidecar"},"name":"static-config-volume"},{"name":"istio-certs","secret":{"defaultMode":420,"optional":true,"secretName":"istio.default"}}]}}}}
    creationTimestamp: "2019-10-03T19:30:59Z"
    generation: 1
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: promsd
      chart: promsd-1.0.3
      heritage: Tiller
      k8s-app: istio
      release: istio
    name: promsd
    namespace: istio-system
    resourceVersion: "2820"
    selfLink: /apis/apps/v1/namespaces/istio-system/deployments/promsd
    uid: 543c7617-e614-11e9-a5da-42010a800258
  spec:
    progressDeadlineSeconds: 2147483647
    replicas: 1
    revisionHistoryLimit: 2147483647
    selector:
      matchLabels:
        app: promsd
    strategy:
      rollingUpdate:
        maxSurge: 1
        maxUnavailable: 1
      type: RollingUpdate
    template:
      metadata:
        annotations:
          scheduler.alpha.kubernetes.io/critical-pod: ""
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: promsd
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - --prometheus.wal-directory=/data/wal
          - --stackdriver.project-id=
          - --stackdriver.kubernetes.location=
          - --stackdriver.kubernetes.cluster-name=
          - --stackdriver.use-gke-resource
          - --stackdriver.metrics-prefix=container.googleapis.com/internal/addons/istio
          - --config-file=/etc/prometheus-sidecar/sidecar.yml
          - --filter=__name__=~"^(pilot_xds_pushes|pilot_xds_push_timeouts|pilot_errors_xds|pilot_errors_internal|mixer_dropped_request_count|envoy_cx_errors|envoy_cx_timeouts|envoy_cx_count|envoy_rq_count|envoy_http_mixer_filter_total_report_calls)$"
          env:
          - name: DEBUG
            value: "1"
          image: gcr.io/gke-release/istio/prometheus/stackdriver-prometheus-sidecar:0.1
          imagePullPolicy: Always
          name: sidecar
          ports:
          - containerPort: 9091
            name: sidecar
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /data
            name: data-volume
          - mountPath: /etc/prometheus-sidecar
            name: static-config-volume
        - args:
          - --storage.tsdb.retention=6h
          - --storage.tsdb.path=/data
          - --storage.tsdb.min-block-duration=15m
          - --storage.tsdb.max-block-duration=4h
          - --config.file=/etc/prometheus/prometheus.yml
          image: gcr.io/gke-release/istio/prometheus/prometheus:v2.4.3
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/healthy
              port: 9090
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: promsd
          ports:
          - containerPort: 9090
            name: http
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/ready
              port: 9090
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/prometheus
            name: config-volume
          - mountPath: /etc/prometheus-rules
            name: rules-config-volume
          - mountPath: /etc/istio-certs
            name: istio-certs
          - mountPath: /data
            name: data-volume
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: promsd
        serviceAccountName: promsd
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: promsd
          name: config-volume
        - configMap:
            defaultMode: 420
            name: promsd-rules
          name: rules-config-volume
        - emptyDir: {}
          name: data-volume
        - configMap:
            defaultMode: 420
            name: promsd-sidecar
          name: static-config-volume
        - name: istio-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio.default
  status:
    conditions:
    - lastTransitionTime: "2019-10-03T19:30:59Z"
      lastUpdateTime: "2019-10-03T19:30:59Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    replicas: 1
    unavailableReplicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2019-10-03T19:30:58Z"
    generation: 1
    labels:
      app: security
      chart: security
      heritage: Tiller
      istio: citadel
      pod-template-hash: 86cbf5fdb5
      release: istio
    name: istio-citadel-86cbf5fdb5
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istio-citadel
      uid: 536cd3c7-e614-11e9-a5da-42010a800258
    resourceVersion: "2802"
    selfLink: /apis/apps/v1/namespaces/istio-system/replicasets/istio-citadel-86cbf5fdb5
    uid: 536e7b76-e614-11e9-a5da-42010a800258
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: security
        chart: security
        heritage: Tiller
        istio: citadel
        pod-template-hash: 86cbf5fdb5
        release: istio
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: security
          chart: security
          heritage: Tiller
          istio: citadel
          pod-template-hash: 86cbf5fdb5
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - --append-dns-names=true
          - --grpc-port=8060
          - --grpc-hostname=citadel
          - --citadel-storage-namespace=istio-system
          - --custom-dns-names=istio-pilot-service-account.istio-system:istio-pilot.istio-system
          - --monitoring-port=15014
          - --self-signed-ca=true
          image: gke.gcr.io/istio/citadel:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /version
              port: 15014
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          name: citadel
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-citadel-service-account
        serviceAccountName: istio-citadel-service-account
        terminationGracePeriodSeconds: 30
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2019-10-03T19:30:57Z"
    generation: 1
    labels:
      app: galley
      chart: galley
      heritage: Tiller
      istio: galley
      pod-template-hash: 544ff46bc4
      release: istio
    name: istio-galley-544ff46bc4
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istio-galley
      uid: 52a2260c-e614-11e9-a5da-42010a800258
    resourceVersion: "2705"
    selfLink: /apis/apps/v1/namespaces/istio-system/replicasets/istio-galley-544ff46bc4
    uid: 52a3b435-e614-11e9-a5da-42010a800258
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: galley
        chart: galley
        heritage: Tiller
        istio: galley
        pod-template-hash: 544ff46bc4
        release: istio
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: galley
          chart: galley
          heritage: Tiller
          istio: galley
          pod-template-hash: 544ff46bc4
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - command:
          - /usr/local/bin/galley
          - server
          - --meshConfigFile=/etc/mesh-config/mesh
          - --livenessProbeInterval=1s
          - --livenessProbePath=/healthliveness
          - --readinessProbePath=/healthready
          - --readinessProbeInterval=1s
          - --deployment-namespace=istio-system
          - --insecure=true
          - --validation-webhook-config-file
          - /etc/config/validatingwebhookconfiguration.yaml
          - --monitoringPort=15014
          - --log_output_level=default:info
          image: gke.gcr.io/istio/galley:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            exec:
              command:
              - /usr/local/bin/galley
              - probe
              - --probe-path=/healthliveness
              - --interval=10s
            failureThreshold: 3
            initialDelaySeconds: 5
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          name: galley
          ports:
          - containerPort: 443
            protocol: TCP
          - containerPort: 15014
            protocol: TCP
          - containerPort: 9901
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /usr/local/bin/galley
              - probe
              - --probe-path=/healthready
              - --interval=10s
            failureThreshold: 3
            initialDelaySeconds: 5
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: certs
            readOnly: true
          - mountPath: /etc/config
            name: config
            readOnly: true
          - mountPath: /etc/mesh-config
            name: mesh-config
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-galley-service-account
        serviceAccountName: istio-galley-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: certs
          secret:
            defaultMode: 420
            secretName: istio.istio-galley-service-account
        - configMap:
            defaultMode: 420
            name: istio-galley-configuration
          name: config
        - configMap:
            defaultMode: 420
            name: istio
          name: mesh-config
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2019-10-03T19:30:57Z"
    generation: 1
    labels:
      app: istio-ingressgateway
      chart: gateways
      heritage: Tiller
      istio: ingressgateway
      pod-template-hash: f659695c4
      release: istio
    name: istio-ingressgateway-f659695c4
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istio-ingressgateway
      uid: 52b74354-e614-11e9-a5da-42010a800258
    resourceVersion: "2816"
    selfLink: /apis/apps/v1/namespaces/istio-system/replicasets/istio-ingressgateway-f659695c4
    uid: 52b8cca5-e614-11e9-a5da-42010a800258
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: istio-ingressgateway
        chart: gateways
        heritage: Tiller
        istio: ingressgateway
        pod-template-hash: f659695c4
        release: istio
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: istio-ingressgateway
          chart: gateways
          heritage: Tiller
          istio: ingressgateway
          pod-template-hash: f659695c4
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - proxy
          - router
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --log_output_level=default:info
          - --drainDuration
          - 45s
          - --parentShutdownDuration
          - 1m0s
          - --connectTimeout
          - 10s
          - --serviceCluster
          - istio-ingressgateway
          - --zipkinAddress
          - zipkin:9411
          - --proxyAdminPort
          - "15000"
          - --statusPort
          - "15020"
          - --controlPlaneAuthPolicy
          - NONE
          - --discoveryAddress
          - istio-pilot:15010
          env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: HOST_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.hostIP
          - name: ISTIO_META_POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: ISTIO_META_CONFIG_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: ISTIO_META_ROUTER_MODE
            value: sni-dnat
          image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: istio-proxy
          ports:
          - containerPort: 15020
            protocol: TCP
          - containerPort: 80
            protocol: TCP
          - containerPort: 443
            protocol: TCP
          - containerPort: 31400
            protocol: TCP
          - containerPort: 15029
            protocol: TCP
          - containerPort: 15030
            protocol: TCP
          - containerPort: 15031
            protocol: TCP
          - containerPort: 15032
            protocol: TCP
          - containerPort: 15443
            protocol: TCP
          - containerPort: 15090
            name: http-envoy-prom
            protocol: TCP
          readinessProbe:
            failureThreshold: 30
            httpGet:
              path: /healthz/ready
              port: 15020
              scheme: HTTP
            initialDelaySeconds: 1
            periodSeconds: 2
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
          - mountPath: /etc/istio/ingressgateway-certs
            name: ingressgateway-certs
            readOnly: true
          - mountPath: /etc/istio/ingressgateway-ca-certs
            name: ingressgateway-ca-certs
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-ingressgateway-service-account
        serviceAccountName: istio-ingressgateway-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: istio-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio.istio-ingressgateway-service-account
        - name: ingressgateway-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio-ingressgateway-certs
        - name: ingressgateway-ca-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio-ingressgateway-ca-certs
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      checksum/config-volume: f8da08b6b8c170dde721efd680270b2901e750d4aa186ebb6c22bef5b78a43f9
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2019-10-03T19:30:58Z"
    generation: 1
    labels:
      app: pilot
      chart: pilot
      heritage: Tiller
      istio: pilot
      pod-template-hash: 574b687db6
      release: istio
    name: istio-pilot-574b687db6
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istio-pilot
      uid: 53390e80-e614-11e9-a5da-42010a800258
    resourceVersion: "2686"
    selfLink: /apis/apps/v1/namespaces/istio-system/replicasets/istio-pilot-574b687db6
    uid: 533abdb6-e614-11e9-a5da-42010a800258
  spec:
    replicas: 1
    selector:
      matchLabels:
        istio: pilot
        pod-template-hash: 574b687db6
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: pilot
          chart: pilot
          heritage: Tiller
          istio: pilot
          pod-template-hash: 574b687db6
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - discovery
          - --monitoringAddr=:15014
          - --log_output_level=default:info
          - --domain
          - cluster.local
          - --secureGrpcAddr
          - ""
          - --keepaliveMaxServerConnectionAge
          - 30m
          env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: GODEBUG
            value: gctrace=1
          - name: PILOT_PUSH_THROTTLE
            value: "100"
          - name: PILOT_TRACE_SAMPLING
            value: "1"
          - name: PILOT_DISABLE_XDS_MARSHALING_TO_ANY
            value: "1"
          image: gke.gcr.io/istio/pilot:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: discovery
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 15010
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /ready
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/istio/config
            name: config-volume
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
        - args:
          - proxy
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --serviceCluster
          - istio-pilot
          - --templateFile
          - /etc/istio/proxy/envoy_pilot.yaml.tmpl
          - --controlPlaneAuthPolicy
          - NONE
          env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: istio-proxy
          ports:
          - containerPort: 15003
            protocol: TCP
          - containerPort: 15005
            protocol: TCP
          - containerPort: 15007
            protocol: TCP
          - containerPort: 15011
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-pilot-service-account
        serviceAccountName: istio-pilot-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: istio
          name: config-volume
        - name: istio-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio.istio-pilot-service-account
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2019-10-03T19:30:57Z"
    generation: 1
    labels:
      app: policy
      chart: mixer
      heritage: Tiller
      istio: mixer
      istio-mixer-type: policy
      pod-template-hash: 5fcfdf8488
      release: istio
    name: istio-policy-5fcfdf8488
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istio-policy
      uid: 52e697b3-e614-11e9-a5da-42010a800258
    resourceVersion: "2708"
    selfLink: /apis/apps/v1/namespaces/istio-system/replicasets/istio-policy-5fcfdf8488
    uid: 52e87b8b-e614-11e9-a5da-42010a800258
  spec:
    replicas: 1
    selector:
      matchLabels:
        istio: mixer
        istio-mixer-type: policy
        pod-template-hash: 5fcfdf8488
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: policy
          chart: mixer
          heritage: Tiller
          istio: mixer
          istio-mixer-type: policy
          pod-template-hash: 5fcfdf8488
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - --monitoringPort=15014
          - --address
          - unix:///sock/mixer.socket
          - --log_output_level=default:info
          - --configStoreURL=mcp://istio-galley.istio-system.svc:9901
          - --configDefaultNamespace=istio-system
          - --useAdapterCRDs=true
          - --trace_zipkin_url=http://zipkin:9411/api/v1/spans
          env:
          - name: GODEBUG
            value: gctrace=1
          - name: GOMAXPROCS
            value: "6"
          image: gke.gcr.io/istio/mixer:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /version
              port: 15014
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          name: mixer
          ports:
          - containerPort: 15014
            protocol: TCP
          - containerPort: 42422
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
          - mountPath: /sock
            name: uds-socket
        - args:
          - proxy
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --serviceCluster
          - istio-policy
          - --templateFile
          - /etc/istio/proxy/envoy_policy.yaml.tmpl
          - --controlPlaneAuthPolicy
          - NONE
          env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: istio-proxy
          ports:
          - containerPort: 9091
            protocol: TCP
          - containerPort: 15004
            protocol: TCP
          - containerPort: 15090
            name: http-envoy-prom
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
          - mountPath: /sock
            name: uds-socket
          - mountPath: /var/run/secrets/istio.io/policy/adapter
            name: policy-adapter-secret
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-mixer-service-account
        serviceAccountName: istio-mixer-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: istio-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio.istio-mixer-service-account
        - emptyDir: {}
          name: uds-socket
        - name: policy-adapter-secret
          secret:
            defaultMode: 420
            optional: true
            secretName: policy-adapter-secret
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2019-10-03T19:30:58Z"
    generation: 1
    labels:
      app: sidecarInjectorWebhook
      chart: sidecarInjectorWebhook
      heritage: Tiller
      istio: sidecar-injector
      pod-template-hash: 7cdf57868b
      release: istio
    name: istio-sidecar-injector-7cdf57868b
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istio-sidecar-injector
      uid: 53b09406-e614-11e9-a5da-42010a800258
    resourceVersion: "2695"
    selfLink: /apis/apps/v1/namespaces/istio-system/replicasets/istio-sidecar-injector-7cdf57868b
    uid: 53b292e5-e614-11e9-a5da-42010a800258
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: sidecarInjectorWebhook
        chart: sidecarInjectorWebhook
        heritage: Tiller
        istio: sidecar-injector
        pod-template-hash: 7cdf57868b
        release: istio
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: sidecarInjectorWebhook
          chart: sidecarInjectorWebhook
          heritage: Tiller
          istio: sidecar-injector
          pod-template-hash: 7cdf57868b
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - --caCertFile=/etc/istio/certs/root-cert.pem
          - --tlsCertFile=/etc/istio/certs/cert-chain.pem
          - --tlsKeyFile=/etc/istio/certs/key.pem
          - --injectConfig=/etc/istio/inject/config
          - --meshConfig=/etc/istio/config/mesh
          - --healthCheckInterval=2s
          - --healthCheckFile=/health
          image: gke.gcr.io/istio/sidecar_injector:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            exec:
              command:
              - /usr/local/bin/sidecar-injector
              - probe
              - --probe-path=/health
              - --interval=4s
            failureThreshold: 3
            initialDelaySeconds: 4
            periodSeconds: 4
            successThreshold: 1
            timeoutSeconds: 1
          name: sidecar-injector-webhook
          readinessProbe:
            exec:
              command:
              - /usr/local/bin/sidecar-injector
              - probe
              - --probe-path=/health
              - --interval=4s
            failureThreshold: 3
            initialDelaySeconds: 4
            periodSeconds: 4
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/istio/config
            name: config-volume
            readOnly: true
          - mountPath: /etc/istio/certs
            name: certs
            readOnly: true
          - mountPath: /etc/istio/inject
            name: inject-config
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-sidecar-injector-service-account
        serviceAccountName: istio-sidecar-injector-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: istio
          name: config-volume
        - name: certs
          secret:
            defaultMode: 420
            secretName: istio.istio-sidecar-injector-service-account
        - configMap:
            defaultMode: 420
            items:
            - key: config
              path: config
            name: istio-sidecar-injector
          name: inject-config
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2019-10-03T19:30:58Z"
    generation: 1
    labels:
      app: telemetry
      chart: mixer
      heritage: Tiller
      istio: mixer
      istio-mixer-type: telemetry
      pod-template-hash: 7f768d6786
      release: istio
    name: istio-telemetry-7f768d6786
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istio-telemetry
      uid: 532228eb-e614-11e9-a5da-42010a800258
    resourceVersion: "2823"
    selfLink: /apis/apps/v1/namespaces/istio-system/replicasets/istio-telemetry-7f768d6786
    uid: 5323e7fc-e614-11e9-a5da-42010a800258
  spec:
    replicas: 1
    selector:
      matchLabels:
        istio: mixer
        istio-mixer-type: telemetry
        pod-template-hash: 7f768d6786
    template:
      metadata:
        annotations:
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: telemetry
          chart: mixer
          heritage: Tiller
          istio: mixer
          istio-mixer-type: telemetry
          pod-template-hash: 7f768d6786
          release: istio
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - --monitoringPort=15014
          - --address
          - unix:///sock/mixer.socket
          - --log_output_level=default:info
          - --configStoreURL=mcp://istio-galley.istio-system.svc:9901
          - --configDefaultNamespace=istio-system
          - --useAdapterCRDs=true
          - --trace_zipkin_url=http://zipkin:9411/api/v1/spans
          - --averageLatencyThreshold
          - 5000ms
          - --loadsheddingMode
          - enforce
          env:
          - name: GODEBUG
            value: gctrace=1
          - name: GOMAXPROCS
            value: "6"
          image: gke.gcr.io/istio/mixer:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /version
              port: 15014
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          name: mixer
          ports:
          - containerPort: 15014
            protocol: TCP
          - containerPort: 42422
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
          - mountPath: /var/run/secrets/istio.io/telemetry/adapter
            name: telemetry-adapter-secret
            readOnly: true
          - mountPath: /sock
            name: uds-socket
        - args:
          - proxy
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --serviceCluster
          - istio-telemetry
          - --templateFile
          - /etc/istio/proxy/envoy_telemetry.yaml.tmpl
          - --controlPlaneAuthPolicy
          - NONE
          env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: gke.gcr.io/istio/proxyv2:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: istio-proxy
          ports:
          - containerPort: 9091
            protocol: TCP
          - containerPort: 15004
            protocol: TCP
          - containerPort: 15090
            name: http-envoy-prom
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/certs
            name: istio-certs
            readOnly: true
          - mountPath: /sock
            name: uds-socket
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-mixer-service-account
        serviceAccountName: istio-mixer-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: istio-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio.istio-mixer-service-account
        - emptyDir: {}
          name: uds-socket
        - name: telemetry-adapter-secret
          secret:
            defaultMode: 420
            optional: true
            secretName: telemetry-adapter-secret
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2019-10-03T19:30:59Z"
    generation: 1
    labels:
      app: promsd
      pod-template-hash: 65bfd5f46c
    name: promsd-65bfd5f46c
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: promsd
      uid: 543c7617-e614-11e9-a5da-42010a800258
    resourceVersion: "2807"
    selfLink: /apis/apps/v1/namespaces/istio-system/replicasets/promsd-65bfd5f46c
    uid: 543e8c9d-e614-11e9-a5da-42010a800258
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: promsd
        pod-template-hash: 65bfd5f46c
    template:
      metadata:
        annotations:
          scheduler.alpha.kubernetes.io/critical-pod: ""
          seccomp.security.alpha.kubernetes.io/pod: docker/default
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: promsd
          pod-template-hash: 65bfd5f46c
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - args:
          - --prometheus.wal-directory=/data/wal
          - --stackdriver.project-id=
          - --stackdriver.kubernetes.location=
          - --stackdriver.kubernetes.cluster-name=
          - --stackdriver.use-gke-resource
          - --stackdriver.metrics-prefix=container.googleapis.com/internal/addons/istio
          - --config-file=/etc/prometheus-sidecar/sidecar.yml
          - --filter=__name__=~"^(pilot_xds_pushes|pilot_xds_push_timeouts|pilot_errors_xds|pilot_errors_internal|mixer_dropped_request_count|envoy_cx_errors|envoy_cx_timeouts|envoy_cx_count|envoy_rq_count|envoy_http_mixer_filter_total_report_calls)$"
          env:
          - name: DEBUG
            value: "1"
          image: gcr.io/gke-release/istio/prometheus/stackdriver-prometheus-sidecar:0.1
          imagePullPolicy: Always
          name: sidecar
          ports:
          - containerPort: 9091
            name: sidecar
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /data
            name: data-volume
          - mountPath: /etc/prometheus-sidecar
            name: static-config-volume
        - args:
          - --storage.tsdb.retention=6h
          - --storage.tsdb.path=/data
          - --storage.tsdb.min-block-duration=15m
          - --storage.tsdb.max-block-duration=4h
          - --config.file=/etc/prometheus/prometheus.yml
          image: gcr.io/gke-release/istio/prometheus/prometheus:v2.4.3
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/healthy
              port: 9090
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: promsd
          ports:
          - containerPort: 9090
            name: http
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/ready
              port: 9090
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/prometheus
            name: config-volume
          - mountPath: /etc/prometheus-rules
            name: rules-config-volume
          - mountPath: /etc/istio-certs
            name: istio-certs
          - mountPath: /data
            name: data-volume
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: promsd
        serviceAccountName: promsd
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: promsd
          name: config-volume
        - configMap:
            defaultMode: 420
            name: promsd-rules
          name: rules-config-volume
        - emptyDir: {}
          name: data-volume
        - configMap:
            defaultMode: 420
            name: promsd-sidecar
          name: static-config-volume
        - name: istio-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio.default
  status:
    fullyLabeledReplicas: 1
    observedGeneration: 1
    replicas: 1
- apiVersion: autoscaling/v1
  kind: HorizontalPodAutoscaler
  metadata:
    annotations:
      autoscaling.alpha.kubernetes.io/conditions: '[{"type":"AbleToScale","status":"True","lastTransitionTime":"2019-10-03T19:32:01Z","reason":"SucceededGetScale","message":"the
        HPA controller was able to get the target''s current scale"},{"type":"ScalingActive","status":"False","lastTransitionTime":"2019-10-03T19:32:01Z","reason":"FailedGetResourceMetric","message":"the
        HPA was unable to compute the replica count: unable to get metrics for resource
        cpu: unable to fetch metrics from resource metrics API: the server is currently
        unable to handle the request (get pods.metrics.k8s.io)"}]'
    creationTimestamp: "2019-10-03T19:31:45Z"
    labels:
      addonmanager.kubernetes.io/mode: EnsureExists
      app: ingressgateway
      chart: gateways
      heritage: Tiller
      k8s-app: istio
      release: istio
    name: istio-ingressgateway
    namespace: istio-system
    resourceVersion: "1059"
    selfLink: /apis/autoscaling/v1/namespaces/istio-system/horizontalpodautoscalers/istio-ingressgateway
    uid: 6fb58a23-e614-11e9-a5da-42010a800258
  spec:
    maxReplicas: 5
    minReplicas: 1
    scaleTargetRef:
      apiVersion: apps/v1beta1
      kind: Deployment
      name: istio-ingressgateway
    targetCPUUtilizationPercentage: 80
  status:
    currentReplicas: 1
    desiredReplicas: 0
- apiVersion: autoscaling/v1
  kind: HorizontalPodAutoscaler
  metadata:
    annotations:
      autoscaling.alpha.kubernetes.io/conditions: '[{"type":"AbleToScale","status":"True","lastTransitionTime":"2019-10-03T19:32:01Z","reason":"SucceededGetScale","message":"the
        HPA controller was able to get the target''s current scale"},{"type":"ScalingActive","status":"False","lastTransitionTime":"2019-10-03T19:32:01Z","reason":"FailedGetResourceMetric","message":"the
        HPA was unable to compute the replica count: unable to get metrics for resource
        cpu: unable to fetch metrics from resource metrics API: the server is currently
        unable to handle the request (get pods.metrics.k8s.io)"}]'
    creationTimestamp: "2019-10-03T19:31:45Z"
    labels:
      addonmanager.kubernetes.io/mode: EnsureExists
      app: pilot
      chart: pilot
      heritage: Tiller
      k8s-app: istio
      release: istio
    name: istio-pilot
    namespace: istio-system
    resourceVersion: "1062"
    selfLink: /apis/autoscaling/v1/namespaces/istio-system/horizontalpodautoscalers/istio-pilot
    uid: 6fb89909-e614-11e9-a5da-42010a800258
  spec:
    maxReplicas: 5
    minReplicas: 1
    scaleTargetRef:
      apiVersion: apps/v1beta1
      kind: Deployment
      name: istio-pilot
    targetCPUUtilizationPercentage: 80
  status:
    currentReplicas: 1
    desiredReplicas: 0
- apiVersion: autoscaling/v1
  kind: HorizontalPodAutoscaler
  metadata:
    annotations:
      autoscaling.alpha.kubernetes.io/conditions: '[{"type":"AbleToScale","status":"True","lastTransitionTime":"2019-10-03T19:32:01Z","reason":"SucceededGetScale","message":"the
        HPA controller was able to get the target''s current scale"},{"type":"ScalingActive","status":"False","lastTransitionTime":"2019-10-03T19:32:01Z","reason":"FailedGetResourceMetric","message":"the
        HPA was unable to compute the replica count: unable to get metrics for resource
        cpu: unable to fetch metrics from resource metrics API: the server is currently
        unable to handle the request (get pods.metrics.k8s.io)"}]'
    creationTimestamp: "2019-10-03T19:31:45Z"
    labels:
      addonmanager.kubernetes.io/mode: EnsureExists
      app: mixer
      chart: mixer
      heritage: Tiller
      k8s-app: istio
      release: istio
    name: istio-policy
    namespace: istio-system
    resourceVersion: "1060"
    selfLink: /apis/autoscaling/v1/namespaces/istio-system/horizontalpodautoscalers/istio-policy
    uid: 6fb6fe0b-e614-11e9-a5da-42010a800258
  spec:
    maxReplicas: 5
    minReplicas: 1
    scaleTargetRef:
      apiVersion: apps/v1beta1
      kind: Deployment
      name: istio-policy
    targetCPUUtilizationPercentage: 80
  status:
    currentReplicas: 1
    desiredReplicas: 0
- apiVersion: autoscaling/v1
  kind: HorizontalPodAutoscaler
  metadata:
    annotations:
      autoscaling.alpha.kubernetes.io/conditions: '[{"type":"AbleToScale","status":"True","lastTransitionTime":"2019-10-03T19:32:01Z","reason":"SucceededGetScale","message":"the
        HPA controller was able to get the target''s current scale"},{"type":"ScalingActive","status":"False","lastTransitionTime":"2019-10-03T19:32:01Z","reason":"FailedGetResourceMetric","message":"the
        HPA was unable to compute the replica count: unable to get metrics for resource
        cpu: unable to fetch metrics from resource metrics API: the server is currently
        unable to handle the request (get pods.metrics.k8s.io)"}]'
    creationTimestamp: "2019-10-03T19:31:45Z"
    labels:
      addonmanager.kubernetes.io/mode: EnsureExists
      app: mixer
      chart: mixer
      heritage: Tiller
      k8s-app: istio
      release: istio
    name: istio-telemetry
    namespace: istio-system
    resourceVersion: "1061"
    selfLink: /apis/autoscaling/v1/namespaces/istio-system/horizontalpodautoscalers/istio-telemetry
    uid: 6fb7c858-e614-11e9-a5da-42010a800258
  spec:
    maxReplicas: 5
    minReplicas: 1
    scaleTargetRef:
      apiVersion: apps/v1beta1
      kind: Deployment
      name: istio-telemetry
    targetCPUUtilizationPercentage: 80
  status:
    currentReplicas: 1
    desiredReplicas: 0
- apiVersion: batch/v1
  kind: Job
  metadata:
    annotations:
      helm.sh/hook: post-delete
      helm.sh/hook-delete-policy: hook-succeeded
      helm.sh/hook-weight: "3"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"batch/v1","kind":"Job","metadata":{"annotations":{"helm.sh/hook":"post-delete","helm.sh/hook-delete-policy":"hook-succeeded","helm.sh/hook-weight":"3"},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"security","chart":"security","heritage":"Tiller","k8s-app":"istio","release":"istio"},"name":"istio-cleanup-secrets-1.1.12","namespace":"istio-system"},"spec":{"template":{"metadata":{"labels":{"app":"security","chart":"security","heritage":"Tiller","release":"istio"},"name":"istio-cleanup-secrets"},"spec":{"affinity":{"nodeAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["ppc64le"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["s390x"]}]},"weight":2}],"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64","ppc64le","s390x"]}]}]}}},"containers":[{"command":["/bin/bash","-c","kubectl get secret --all-namespaces | grep \"istio.io/key-and-cert\" |  while read -r entry; do\n  ns=$(echo $entry | awk '{print $1}');\n  name=$(echo $entry | awk '{print $2}');\n  kubectl delete secret $name -n $ns;\ndone\n"],"image":"gke.gcr.io/istio/kubectl:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","name":"kubectl"}],"restartPolicy":"OnFailure","serviceAccountName":"istio-cleanup-secrets-service-account"}}}}
    creationTimestamp: "2019-10-03T19:30:56Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: security
      chart: security
      heritage: Tiller
      k8s-app: istio
      release: istio
    name: istio-cleanup-secrets-1.1.12
    namespace: istio-system
    resourceVersion: "535"
    selfLink: /apis/batch/v1/namespaces/istio-system/jobs/istio-cleanup-secrets-1.1.12
    uid: 52449154-e614-11e9-a5da-42010a800258
  spec:
    backoffLimit: 6
    completions: 1
    parallelism: 1
    selector:
      matchLabels:
        controller-uid: 52449154-e614-11e9-a5da-42010a800258
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: security
          chart: security
          controller-uid: 52449154-e614-11e9-a5da-42010a800258
          heritage: Tiller
          job-name: istio-cleanup-secrets-1.1.12
          release: istio
        name: istio-cleanup-secrets
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - command:
          - /bin/bash
          - -c
          - |
            kubectl get secret --all-namespaces | grep "istio.io/key-and-cert" |  while read -r entry; do
              ns=$(echo $entry | awk '{print $1}');
              name=$(echo $entry | awk '{print $2}');
              kubectl delete secret $name -n $ns;
            done
          image: gke.gcr.io/istio/kubectl:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: kubectl
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: OnFailure
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-cleanup-secrets-service-account
        serviceAccountName: istio-cleanup-secrets-service-account
        terminationGracePeriodSeconds: 30
  status:
    active: 1
    startTime: "2019-10-03T19:30:56Z"
- apiVersion: batch/v1
  kind: Job
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"batch/v1","kind":"Job","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","k8s-app":"istio"},"name":"istio-init-crd-10-2","namespace":"istio-system"},"spec":{"template":{"metadata":{"annotations":{"sidecar.istio.io/inject":"false"}},"spec":{"containers":[{"command":["kubectl","apply","-f","/etc/istio/crd-10/crd-10.yaml"],"image":"gcr.io/gke-release/istio/kubectl:1.1.3-gke.0","imagePullPolicy":"IfNotPresent","name":"istio-init-crd-10","volumeMounts":[{"mountPath":"/etc/istio/crd-10","name":"crd-10","readOnly":true}]}],"restartPolicy":"OnFailure","serviceAccountName":"istio-init-service-account","volumes":[{"configMap":{"name":"istio-crd-10"},"name":"crd-10"}]}}}}
    creationTimestamp: "2019-10-03T19:30:56Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      k8s-app: istio
    name: istio-init-crd-10-2
    namespace: istio-system
    resourceVersion: "506"
    selfLink: /apis/batch/v1/namespaces/istio-system/jobs/istio-init-crd-10-2
    uid: 51ffcd40-e614-11e9-a5da-42010a800258
  spec:
    backoffLimit: 6
    completions: 1
    parallelism: 1
    selector:
      matchLabels:
        controller-uid: 51ffcd40-e614-11e9-a5da-42010a800258
    template:
      metadata:
        annotations:
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          controller-uid: 51ffcd40-e614-11e9-a5da-42010a800258
          job-name: istio-init-crd-10-2
      spec:
        containers:
        - command:
          - kubectl
          - apply
          - -f
          - /etc/istio/crd-10/crd-10.yaml
          image: gcr.io/gke-release/istio/kubectl:1.1.3-gke.0
          imagePullPolicy: IfNotPresent
          name: istio-init-crd-10
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/istio/crd-10
            name: crd-10
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: OnFailure
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-init-service-account
        serviceAccountName: istio-init-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: istio-crd-10
          name: crd-10
  status:
    active: 1
    startTime: "2019-10-03T19:30:56Z"
- apiVersion: batch/v1
  kind: Job
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"batch/v1","kind":"Job","metadata":{"annotations":{},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","k8s-app":"istio"},"name":"istio-init-crd-11-2","namespace":"istio-system"},"spec":{"template":{"metadata":{"annotations":{"sidecar.istio.io/inject":"false"}},"spec":{"containers":[{"command":["kubectl","apply","-f","/etc/istio/crd-11/crd-11.yaml"],"image":"gcr.io/gke-release/istio/kubectl:1.1.3-gke.0","imagePullPolicy":"IfNotPresent","name":"istio-init-crd-11","volumeMounts":[{"mountPath":"/etc/istio/crd-11","name":"crd-11","readOnly":true}]}],"restartPolicy":"OnFailure","serviceAccountName":"istio-init-service-account","volumes":[{"configMap":{"name":"istio-crd-11"},"name":"crd-11"}]}}}}
    creationTimestamp: "2019-10-03T19:30:56Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      k8s-app: istio
    name: istio-init-crd-11-2
    namespace: istio-system
    resourceVersion: "509"
    selfLink: /apis/batch/v1/namespaces/istio-system/jobs/istio-init-crd-11-2
    uid: 520a0295-e614-11e9-a5da-42010a800258
  spec:
    backoffLimit: 6
    completions: 1
    parallelism: 1
    selector:
      matchLabels:
        controller-uid: 520a0295-e614-11e9-a5da-42010a800258
    template:
      metadata:
        annotations:
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          controller-uid: 520a0295-e614-11e9-a5da-42010a800258
          job-name: istio-init-crd-11-2
      spec:
        containers:
        - command:
          - kubectl
          - apply
          - -f
          - /etc/istio/crd-11/crd-11.yaml
          image: gcr.io/gke-release/istio/kubectl:1.1.3-gke.0
          imagePullPolicy: IfNotPresent
          name: istio-init-crd-11
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/istio/crd-11
            name: crd-11
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: OnFailure
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-init-service-account
        serviceAccountName: istio-init-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: istio-crd-11
          name: crd-11
  status:
    active: 1
    startTime: "2019-10-03T19:30:56Z"
- apiVersion: batch/v1
  kind: Job
  metadata:
    annotations:
      helm.sh/hook: post-install
      helm.sh/hook-delete-policy: hook-succeeded
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"batch/v1","kind":"Job","metadata":{"annotations":{"helm.sh/hook":"post-install","helm.sh/hook-delete-policy":"hook-succeeded"},"labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"security","chart":"security","heritage":"Tiller","k8s-app":"istio","release":"istio"},"name":"istio-security-post-install-1.1.12","namespace":"istio-system"},"spec":{"template":{"metadata":{"labels":{"app":"security","chart":"security","heritage":"Tiller","release":"istio"},"name":"istio-security-post-install"},"spec":{"affinity":{"nodeAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["ppc64le"]}]},"weight":2},{"preference":{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["s390x"]}]},"weight":2}],"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64","ppc64le","s390x"]}]}]}}},"containers":[{"command":["/bin/bash","/tmp/security/run.sh","/tmp/security/custom-resources.yaml"],"image":"gke.gcr.io/istio/kubectl:1.1.13-gke.0","imagePullPolicy":"IfNotPresent","name":"kubectl","volumeMounts":[{"mountPath":"/tmp/security","name":"tmp-configmap-security"}]}],"restartPolicy":"OnFailure","serviceAccountName":"istio-security-post-install-account","volumes":[{"configMap":{"name":"istio-security-custom-resources"},"name":"tmp-configmap-security"}]}}}}
    creationTimestamp: "2019-10-03T19:30:56Z"
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: security
      chart: security
      heritage: Tiller
      k8s-app: istio
      release: istio
    name: istio-security-post-install-1.1.12
    namespace: istio-system
    resourceVersion: "545"
    selfLink: /apis/batch/v1/namespaces/istio-system/jobs/istio-security-post-install-1.1.12
    uid: 52566e46-e614-11e9-a5da-42010a800258
  spec:
    backoffLimit: 6
    completions: 1
    parallelism: 1
    selector:
      matchLabels:
        controller-uid: 52566e46-e614-11e9-a5da-42010a800258
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: security
          chart: security
          controller-uid: 52566e46-e614-11e9-a5da-42010a800258
          heritage: Tiller
          job-name: istio-security-post-install-1.1.12
          release: istio
        name: istio-security-post-install
      spec:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - ppc64le
              weight: 2
            - preference:
                matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - s390x
              weight: 2
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: beta.kubernetes.io/arch
                  operator: In
                  values:
                  - amd64
                  - ppc64le
                  - s390x
        containers:
        - command:
          - /bin/bash
          - /tmp/security/run.sh
          - /tmp/security/custom-resources.yaml
          image: gke.gcr.io/istio/kubectl:1.1.13-gke.0
          imagePullPolicy: IfNotPresent
          name: kubectl
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp/security
            name: tmp-configmap-security
        dnsPolicy: ClusterFirst
        restartPolicy: OnFailure
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istio-security-post-install-account
        serviceAccountName: istio-security-post-install-account
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: istio-security-custom-resources
          name: tmp-configmap-security
  status:
    active: 1
    startTime: "2019-10-03T19:30:56Z"
kind: List
metadata:
  resourceVersion: ""
  selfLink: ""
